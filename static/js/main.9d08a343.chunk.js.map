{"version":3,"sources":["theme/colors.js","app-context.js","components/ColorPicker.js","components/Fabric.js","components/G.js","components/shapes/ShapeBase.js","components/shapes/Diamond.js","components/shapes/Triangles.js","layout/star-interface/OuterTriangles.js","layout/star-interface/InnerTriangles.js","layout/star-interface/OuterDiamonds.js","components/Stitch.js","components/shapes/Single.js","components/shapes/Square.js","layout/star-interface/CornerStars.js","components/shapes/Line.js","layout/star-interface/CenterStar.js","layout/star-diamond.js","layout/triangle-in-d.js","components/tonejs/polysketchinC.js","components/AudioStart.js","layout/tests/nested-diamonds.js","components/shapes/Plus.js","layout/tests/nested-plus.js","layout/tests/plus-cross.js","components/shapes/PlusStar.js","layout/tests/plus-stars.js","layout/tests/tone-test.js","layout/tests/square-test.js","layout/tests/line-test.js","components/shapes/Star.js","layout/tests/star-diamond-test.js","layout/tests/star-test.js","layout/tests/empty-diamond.js","layout/tests/noise-square.js","layout/tests/iso-triangles.js","components/shapes/X.js","layout/tests/x-stitch-set.js","layout/tests/TestPage.js","layout/FreeDraw.js","layout/layout.js","App.js","index.js"],"names":["colors","defaultFMSettings","oscillator","type","modulationIndex","modulation","envelope","attack","decay","sustain","release","attackCurve","volume","defaultMonoSettings","filter","Q","rolloff","filterEnvelope","baseFrequency","exponent","octaves","pitchShift","Tone","delay","maxDelay","feedback","wet","reverb","toDestination","neQuadrantSynth","chain","seQuadrantSynth","swQuadrantSynth","nwQuadrantSynth","ascLineSynth","descLineSynth","verticalLineSynth","horizontalLineSynth","outerDiamondGain","connect","outerDiamondDelay","outerDiamondSynth","defaultAppContext","cellSize","selectFill","setSelectFill","isAudioStarted","setIsAudioStarted","AppContext","createContext","useStyles","makeStyles","root","position","bottom","right","display","justifyContent","alignItems","padding","color","customColorOptions","ColorPicker","classes","React","colorPickerOpen","setColorPickerOpen","className","style","onChangeComplete","hex","IconButton","size","fontSize","onClick","Palette","backgroundColor","Fabric","gridSize","showGrid","gridColor","children","useContext","viewBox","id","x","y","width","height","patternUnits","x1","y1","x2","y2","stroke","strokeWidth","fill","G","rest","transform","ShapeBase","stitches","selected","setSelected","map","stitch","originalFill","stitchState","setStitchState","stitchClickHandler","event","shiftKey","newStitches","cur","currentTarget","dataset","fillOpacity","i","data-id","Diamond","diameter","filled","cx","cy","setStitches","realDiameter","setRealDiameter","mid","s","push","generateRightStitches","orientation","sidelength","tmp","RightTriangle","sideLength","useState","useEffect","generateIsoStitches","baseWidth","altitude","Math","ceil","center","n","IsoTriangle","setBaseWidth","triangle","opacity","OuterTriangles","value","vol","setVol","topRightEl","topLeftEl","bottomRightEl","bottomLeftEl","blink","el","classList","toggle","setTimeout","rampTo","e","current","bpm","ref","TriangleGroup","patternContent","patternDirection","triangles","synth","pattern","time","note","triggerAttackRelease","start","stop","InnerTriangles","OuterDiamonds","selectedGreen","setSelectedGreen","sequence","delaySequence","delayTime","Stitch","handleClick","currentFill","setCurrentFill","Single","stitchSelected","setStitchSelected","Square","CornerStar","clickHandler","CornerStars","selectedWest","setSelectedWest","selectedEast","setSelectedEast","selectedNorth","setSelectedNorth","selectedSouth","setSelectedSouth","currentPitchShift","setCurrentPitchShift","pitch","Line","length","angle","tempStitches","CenterStar","patternUp","patternDown","verticalPattern","callback","values","playbackRate","horizontalPattern","horizontalSelected","setHorizontalSelected","verticalSelected","setVerticalSelected","downSelected","setDownSelected","upSelected","setUpSelected","StarDiamond","synthA","pattern1","portamento","pattern2","pattern3","TriangleInD","Fragment","counter","top","left","overflow","zIndex","startButton","AudioStartButton","a","PlayCircleOutline","NestedDiamonds","selectAll","setSelectAll","selectAll2","setSelectAll2","Plus","lineWidth","floor","NestedPlus","PlusCross","PlusStar","PlusStars","polySketchInC","maxPolyphony","toMaster","set","detune","ToneTest","loopBeat","useRef","loopOn","setLoopOn","SquareTest","emptySelected","setEmptySelected","solidSelected","setSolidSelected","redSelected","setRedSelected","groupSelected","setGroupSelected","LineTest","Star","w","dwidth","dw","red","green","StarTest","selectFirst","setSelectFirst","selectSecond","setSelectSecond","EmptyDiamond","NoiseSquare","grayNoise","setGrayNoise","bwNoise","setBwNoise","interpolateGreys","random","bwtmp","round","maxWidth","margin","IsoscelesTriangles","X","index","arr","findIndex","XStitchSet","sel1","setSel1","sel2","setSel2","sel3","setSel3","sel4","setSel4","sel5","setSel5","sel6","setSel6","menu","url","title","component","embroidery","TestPage","path","exact","item","to","controls","marginBottom","form","marginRight","FreeDraw","setSize","text","setText","temp","noValidate","autoComplete","onSubmit","preventDefault","Number","TextField","label","variant","onChange","num","target","Button","backLink","Layout","App","basename","process","Provider","rootElement","document","getElementById","ReactDOM","render"],"mappings":"kQAAaA,EACD,UADCA,EAEL,UAFKA,EAGD,UAHCA,EAIF,UAJEA,EAKN,UALMA,EAMD,UANCA,EAOC,UAPDA,EAQH,UARGA,EASE,UATFA,EAUC,UAVDA,EAWH,UAXGA,EAYE,UAZFA,EAaD,UAbCA,EAcL,UAdKA,EAeA,UAfAA,EAgBA,UAhBAA,EAiBJ,UAjBIA,EAkBC,UCZRC,EAAoB,CACxBC,WAAY,CACVC,KAAM,QAERC,gBAAiB,GACjBC,WAAY,CACVF,KAAM,YAERG,SAAU,CACRC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,EACTC,YAAa,QAEfC,QAAS,GAELC,EAAsB,CAC1BX,WAAY,CAAEC,KAAM,YACpBG,SAAU,CAAEC,OAAQ,KAAOC,MAAO,GAAKE,QAAS,GAAKD,QAAS,IAC9DK,OAAQ,CACNC,EAAG,EACHC,SAAU,GACVb,KAAM,WAERc,eAAgB,CACdV,OAAQ,GACRW,cAAe,IACfV,MAAO,GACPW,SAAU,EACVC,QAAS,EACTV,QAAS,EACTD,QAAS,IAEXG,QAAS,IAILS,EAAa,IAAIC,IACjBC,EAAQ,IAAID,IAAmB,CACnCE,SAAU,EACVC,SAAU,GACVC,IAAK,KAEDC,EAAS,IAAIL,IACbV,EAAS,IAAIU,KAAa,GAAGM,gBAG7BC,EAAkB,IAAIP,IAAarB,GAAmB6B,MAC1DT,EACAE,EACAI,EACAf,GAEImB,EAAkB,IAAIT,IAAJ,2BACnBrB,GADmB,IAEtBW,OAAQ,KACPkB,MAAMT,EAAYE,EAAOI,EAAQf,GAC9BoB,EAAkB,IAAIV,IAAarB,GAAmB6B,MAC1DT,EACAE,EACAI,EACAf,GAEIqB,EAAkB,IAAIX,IAAarB,GAAmB6B,MAC1DT,EACAE,EACAI,EACAf,GAGIsB,EAAe,IAAIZ,IAAJ,2BAChBT,GADgB,IAEnBD,QAAS,KACRkB,MAAMT,EAAYE,EAAOI,EAAQf,GAC9BuB,EAAgB,IAAIb,IAAJ,2BACjBT,GADiB,IAEpBD,QAAS,KACRkB,MAAMT,EAAYE,EAAOI,EAAQf,GAC9BwB,EAAoB,IAAId,IAAeT,GAAqBiB,MAChET,EACAE,EACAI,EACAf,GAEIyB,EAAsB,IAAIf,IAAeT,GAAqBiB,MAClET,EACAE,EACAI,EACAf,GAGI0B,EAAmB,IAAIhB,KAAW,GAAI,YAAYiB,QACtDjB,KAGIkB,EAAoB,IAAIlB,IAAmB,CAC/CE,SAAU,EACVC,SAAU,GACVC,IAAK,KACJa,QAAQD,GAELG,EAAoB,IAAInB,IAAa,CAAEV,QAAS,IAAKkB,MACzDU,EACAnB,EACAM,EACAf,GAGW8B,EAAoB,CAC/BC,SAAU,GACVC,WAAY5C,EACZ6C,cAAe,aACfC,gBAAgB,EAChBC,kBAAmB,aACnB1B,aACAE,QACAI,SACAf,SACAiB,kBACAE,kBACAC,kBACAC,kBACAC,eACAC,gBACAC,oBACAC,sBACAI,oBACAD,qBAGWQ,EAAaC,wBAAcP,G,gBCjIlCQ,GAAYC,YAAW,CAC3BC,KAAM,CACJC,SAAU,QACVC,OAAQ,EACRC,MAAO,EACPC,QAAS,OACTC,eAAgB,WAChBC,WAAY,WACZC,QAAS,EACT,wBAAyB,CACvBC,MAAO,WAKPC,GAAqB,CACzB,UACA7D,EACAA,EACAA,EACA,UACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,EACAA,GAGa,SAAS8D,KACtB,IAAMC,EAAUb,KAChB,EAAgDc,aAAiBhB,GAA/CJ,GAAlB,EAAQD,SAAR,EAAkBC,YAAYC,EAA9B,EAA8BA,cAC9B,EAA8CmB,YAAe,GAA7D,mBAAOC,EAAP,KAAwBC,EAAxB,KAOA,OACE,sBAAKC,UAAWJ,EAAQX,KAAxB,UACE,qBAAKgB,MAAO,CAAEZ,QAASS,EAAkB,QAAU,QAAnD,SACE,cAAC,IAAD,CACEL,MAAOhB,EACP5C,OAAQ6D,GACRQ,iBAXR,SAA2BT,GACzBf,EAAce,EAAMU,KACpBJ,GAAmB,QAYjB,cAACK,EAAA,EAAD,CACEC,KAAK,QACLC,SAAS,QACTC,QAAS,kBAAMR,GAAoBD,IAHrC,SAKE,cAACU,EAAA,EAAD,S,cClEFzB,GAAYC,YAAW,CAC3BC,KAAM,CACJwB,gBAAiB,qBAAGA,oBAKT,SAASC,GAAT,GAMX,IALFC,EAKC,EALDA,SACAF,EAIC,EAJDA,gBACAG,EAGC,EAHDA,SACAC,EAEC,EAFDA,UACAC,EACC,EADDA,SAEMlB,EAAUb,GAAU,CAAE0B,oBACpBjC,EAAaqB,IAAMkB,WAAWlC,GAA9BL,SAER,OACE,sBACEwB,UAAWJ,EAAQX,KACnB+B,QAAO,cAASL,EAAS,GAAKnC,EAAW,EAAlC,YACLmC,EAAS,GAAKnC,EAAW,GAH7B,UAME,+BACE,0BACEyC,GAAG,cACHC,EAAE,IACFC,EAAE,IACFC,MAAO5C,EACP6C,OAAQ7C,EACR8C,aAAa,iBANf,UAQE,sBACEC,GAAG,IACHC,GAAG,IACHC,GAAG,OACHC,GAAG,IACHC,OAAQd,GAAwB,QAChCe,YAAa,IAEf,sBACEL,GAAG,IACHC,GAAG,IACHC,GAAG,IACHC,GAAG,OACHC,OAAQd,GAAwB,QAChCe,YAAa,SAIlBhB,GAAY,sBAAMQ,MAAM,OAAOC,OAAO,OAAOQ,KAAK,sBAClDf,K,aClDQ,SAASgB,GAAT,GAAyC,IAA5BZ,EAA2B,EAA3BA,EAAGC,EAAwB,EAAxBA,EAAGL,EAAqB,EAArBA,SAAaiB,EAAQ,qCAC7CvD,EAAaqB,IAAMkB,WAAWlC,GAA9BL,SACR,OACE,2CACEwD,UAAS,oBAAed,EAAIA,EAAI1C,EAAW,EAAlC,aAAwC2C,EAAIA,EAAI3C,EAAW,EAA3D,MACLuD,GAFN,aAIGjB,K,aCTQ,SAASmB,GAAT,GAA+D,IAA1CC,EAAyC,EAAzCA,SAAUhB,EAA+B,EAA/BA,EAAGC,EAA4B,EAA5BA,EAAGgB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAC5D,EAAiCvC,aAAiBhB,GAA1CL,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,WAClB,EAAsCoB,WACpCqC,EAASG,KAAI,SAACC,GAAD,mBAAC,eACTA,GADQ,IAEXH,UAAU,EACVI,aAAcD,EAAOT,WAJzB,mBAAOW,EAAP,KAAoBC,EAApB,KAwBA,SAASC,EAAmBC,GAC1B,GAAIA,EAAMC,SAAU,CAClB,IAAMC,EAAW,aAAOL,GAClBM,EAAMD,EAAYF,EAAMI,cAAcC,QAAQ/B,IACpD6B,EAAIX,UAAYW,EAAIX,SACpBW,EAAIjB,KAAOiB,EAAIX,SAAW1D,EAAaqE,EAAIP,aAC3CE,EAAeI,IAInB,OA1BAhD,aAAgB,WACd4C,EACEP,EAASG,KAAI,SAACC,GAAD,mBAAC,eACTA,GADQ,IAEXH,UAAU,EACVI,aAAcD,EAAOT,aAGxB,CAACK,IAmBF,cAACJ,GAAD,CAAGZ,EAAGA,EAAGC,EAAGA,EAAG8B,YAAad,EAAW,GAAM,EAAG5B,QAjBlD,SAA2BoC,IACpBA,EAAMC,UAAYR,GAA2B,MAAZD,GACpCC,GAAaD,IAef,SACGK,EAAYH,KAAI,SAACC,EAAQY,GAAT,OACf,sBACE9B,MAAO5C,EACP6C,OAAQ7C,EACRqD,KAAMS,EAAOT,KACbX,EAAGoB,EAAOpB,EAAI1C,EAAW,GACzB2C,EAAGmB,EAAOnB,EAAI3C,EAAW,GACzB+B,QAASmC,EACTS,UAASD,GAPX,iBAQiBA,SC/CV,SAASE,GAAT,GASX,IARFC,EAQC,EARDA,SACA1B,EAOC,EAPDA,OACAE,EAMC,EANDA,KACAyB,EAKC,EALDA,OACAC,EAIC,EAJDA,GACAC,EAGC,EAHDA,GACArB,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAgCvC,aAAhC,mBAAOqC,EAAP,KAAiBuB,EAAjB,KACA,EAAwC5D,WACtCwD,EAAW,IAAM,EAAIA,EAAW,EAAIA,GADtC,mBAAOK,EAAP,KAAqBC,EAArB,KAwCA,OApCA9D,aAAgB,WACd8D,EAAgBN,EAAW,IAAM,EAAIA,EAAW,EAAIA,KACnD,CAACA,IAEJxD,aAAgB,WAGd,IAFA,IAAM+D,GAAOF,EAAe,GAAK,EAC3BG,EAAI,GACD3C,EAAI,EAAGA,EAAIwC,EAAcxC,IAChC,IAAK,IAAIC,EAAI,EAAGA,EAAIuC,EAAcvC,IAE9BD,IAAM0C,EAAMzC,GACZD,IAAM0C,EAAMzC,GACZD,IAAMwC,EAAevC,EAAIyC,EAAM,GAC/B1C,IAAMC,EAAIyC,EAAM,EAAIF,GAEpBG,EAAEC,KAAK,CAAEjC,KAAMF,EAAQT,IAAGC,MAIhC,GAAImC,EACF,IAAK,IAAIpC,EAAI,EAAGA,EAAIwC,EAAcxC,IAChC,IAAK,IAAIC,EAAI,EAAGA,EAAIuC,EAAcvC,IAE9BD,GAAK0C,EAAMzC,GACXD,GAAK0C,EAAMzC,GACXD,GAAKC,EAAIyC,EAAM,EAAIF,GACnBxC,GAAKwC,EAAevC,EAAIyC,EAAM,GAE9BC,EAAEC,KAAK,CAAEjC,OAAMX,IAAGC,MAK1BsC,EAAYI,KACX,CAACR,EAAU1B,EAAQE,EAAMyB,IAG1B,cAACxB,GAAD,CAAGZ,EAAGqC,EAAIpC,EAAGqC,EAAb,SACGtB,GACC,cAACD,GAAD,CACEC,SAAUA,EACVhB,IAAKwC,EAAe,GAAK,EACzBvC,IAAKuC,EAAe,GAAK,EACzBvB,SAAUA,EACVC,YAAaA,MC5DvB,SAAS2B,GAAsBC,EAAaC,EAAYpC,GACtD,IAAMqC,EAAM,GACZ,OAAQF,GACN,IAAK,KACH,IAAK,IAAI7C,EAAI,EAAGA,EAAI8C,EAAY9C,IAC9B,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAI,EAAGD,IACzBgD,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,MAGxB,OAAO+C,EACT,IAAK,KACH,IAAK,IAAI/C,EAAI,EAAGA,EAAI8C,EAAY9C,IAC9B,IAAK,IAAID,EAAI,EAAGA,EAAI+C,EAAa9C,EAAGD,IAClCgD,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,MAGxB,OAAO+C,EACT,IAAK,KACH,IAAK,IAAI/C,EAAI,EAAGA,EAAI8C,EAAY9C,IAC9B,IAAK,IAAID,EAAIC,EAAGD,EAAI+C,EAAY/C,IAC9BgD,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,MAGxB,OAAO+C,EACT,IAAK,KACH,IAAK,IAAI/C,EAAI,EAAGA,EAAI8C,EAAY9C,IAC9B,IAAK,IAAID,EAAI+C,EAAa9C,EAAI,EAAGD,EAAI+C,EAAY/C,IAC/CgD,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,MAGxB,OAAO+C,EACT,QACE,MAAO,IAIN,SAASC,GAAT,GAQH,IAPFH,EAOC,EAPDA,YACAI,EAMC,EANDA,WACAvC,EAKC,EALDA,KACAX,EAIC,EAJDA,EACAC,EAGC,EAHDA,EACAgB,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAgCvC,IAAMwE,SACpCN,GAAsBC,EAAaI,EAAYvC,IADjD,mBAAOK,EAAP,KAAiBuB,EAAjB,KAOA,OAJA5D,IAAMyE,WAAU,WACdb,EAAYM,GAAsBC,EAAaI,EAAYvC,MAC1D,CAACmC,EAAaI,EAAYvC,IAG3B,cAACI,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,IAKnB,SAASmC,GAAoBP,EAAaQ,EAAW3C,GACnD,IAAM4C,EAAWC,KAAKC,KAAKH,EAAY,GACjCI,EAASH,EAAW,EACpBP,EAAM,GACZ,OAAQF,GACN,IAAK,QACH,IAAK,IAAI7C,EAAI,EAAG0D,EAAI,EAAG1D,EAAIsD,EAAUtD,IAAK0D,GAAK,EAC7C,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAG3B,IACrBgB,EAAIJ,KAAK,CAAEjC,OAAMX,EAAG0D,EAASzD,EAAI+B,EAAG/B,MAGxC,OAAO+C,EACT,IAAK,QACH,IAAK,IAAI/C,EAAI,EAAG0D,EAAIL,EAAWrD,EAAIsD,EAAUtD,IAAK0D,GAAK,EACrD,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAG3B,IACrBgB,EAAIJ,KAAK,CAAEjC,OAAMX,EAAGC,EAAI+B,EAAG/B,MAG/B,OAAO+C,EACT,IAAK,OACH,IAAK,IAAIhD,EAAI,EAAG2D,EAAIL,EAAWtD,EAAIuD,EAAUvD,IAAK2D,GAAK,EACrD,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAG3B,IACrBgB,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,EAAGD,EAAIgC,IAG/B,OAAOgB,EACT,IAAK,OACH,IAAK,IAAIhD,EAAI,EAAG2D,EAAI,EAAG3D,EAAIuD,EAAUvD,IAAK2D,GAAK,EAC7C,IAAK,IAAI3B,EAAI,EAAGA,EAAI2B,EAAG3B,IACrBgB,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,EAAGyD,EAAS1D,EAAIgC,IAGxC,OAAOgB,EACT,QACE,MAAO,IAIN,SAASY,GAAT,GAQH,IAPFd,EAOC,EAPDA,YACA3D,EAMC,EANDA,KACAwB,EAKC,EALDA,KACAX,EAIC,EAJDA,EACAC,EAGC,EAHDA,EACAgB,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAkCvC,IAAMwE,SACtChE,EAAO,IAAM,EAAIA,EAAO,EAAIA,GAD9B,mBAAOmE,EAAP,KAAkBO,EAAlB,KAGA,EAAgClF,IAAMwE,SACpCE,GAAoBP,EAAaQ,EAAW3C,IAD9C,mBAAOK,EAAP,KAAiBuB,EAAjB,KAUA,OAPA5D,IAAMyE,WAAU,WACdS,EAAa1E,EAAO,IAAM,EAAIA,EAAO,EAAIA,KACxC,CAACA,IACJR,IAAMyE,WAAU,WACdb,EAAYc,GAAoBP,EAAaQ,EAAW3C,MACvD,CAACmC,EAAaQ,EAAW3C,IAG1B,cAACI,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,IC7HnB,IAAMrD,GAAYC,aAAW,CAC3BgG,SAAU,CACRC,QAAS,EACT,YAAa,CACXA,QAAS,OAKA,SAASC,KACtB,IAAQzI,EAAWoD,aAAiBhB,GAA5BpC,OACR,EAAsBoD,WAAepD,EAAOA,OAAO0I,OAAnD,mBAAOC,EAAP,KAAYC,EAAZ,KACMzF,EAAUb,KACVuG,EAAazF,SAAa,MAC1B0F,EAAY1F,SAAa,MACzB2F,EAAgB3F,SAAa,MAC7B4F,EAAe5F,SAAa,MAMlC,SAAS6F,EAAMC,GACbA,EAAGC,UAAUC,OAAO,WACpBC,YAAW,kBAAMH,EAAGC,UAAUC,OAAO,aAAY,IAiCnD,OAvCAhG,aAAgB,WACdpD,EAAOA,OAAOsJ,OAAOX,EAAK,MACzB,CAACA,IAsCF,8BACE,mBAAG7E,QAhCP,SAAmByF,GACZA,EAAEpD,UACL8C,EAAMH,EAAUU,SAElB9I,IAAe+I,IAAIf,MAAQhI,IAAe+I,IAAIf,MAAQ,GA4B7BnF,UAAWJ,EAAQoF,SAAUmB,IAAKZ,EAAzD,SACE,cAACpB,GAAD,CACEH,YAAY,KACZI,WAAY,GACZvC,KAAMhG,EACNqF,EAAG,EACHC,EAAG,MAGP,mBAAGZ,QAlCP,SAAiByF,GACVA,EAAEpD,UACL8C,EAAMJ,EAAWW,SAEnB9I,IAAe+I,IAAIf,MAAQhI,IAAe+I,IAAIf,MAAQ,GA8B/BnF,UAAWJ,EAAQoF,SAAUmB,IAAKb,EAAvD,SACE,cAACnB,GAAD,CACEH,YAAY,KACZI,WAAY,GACZvC,KAAMhG,EACNqF,EAAG,GACHC,EAAG,MAGP,mBAAGZ,QApCP,SAAkByF,GACXA,EAAEpD,UACL8C,EAAMF,EAAcS,SAElBb,GAAO,GACTC,EAAOD,EAAM,IA+BSpF,UAAWJ,EAAQoF,SAAUmB,IAAKX,EAAxD,SACE,cAACrB,GAAD,CACEH,YAAY,KACZI,WAAY,GACZvC,KAAMhG,EACNqF,EAAG,GACHC,EAAG,OAGP,mBAAGZ,QApCP,SAAoByF,GACbA,EAAEpD,UACL8C,EAAMD,EAAaQ,SAErBZ,EAAOD,EAAM,IAgCapF,UAAWJ,EAAQoF,SAAUmB,IAAKV,EAA1D,SACE,cAACtB,GAAD,CACEH,YAAY,KACZI,WAAY,GACZvC,KAAMhG,EACNqF,EAAG,EACHC,EAAG,UC7Fb,SAASiF,GAAT,GAAgF,IAAvDC,EAAsD,EAAtDA,eAAgBC,EAAsC,EAAtCA,iBAAkBC,EAAoB,EAApBA,UAAWC,EAAS,EAATA,MACpE,EAAgC3G,YAAe,GAA/C,mBAAOsC,EAAP,KAAiBC,EAAjB,KAEMqE,EAAU5G,SACd,IAAI1C,KACF,SAAUuJ,EAAMC,GACdH,EAAMI,qBAAqBD,EAAM,MAAOD,KAE1CL,EACAC,IAaJ,OATAzG,aAAgB,WAMd,OALIsC,EACFsE,EAAQR,QAAQY,MAAM,GAEtBJ,EAAQR,QAAQa,KAAK,GAEhB,kBAAML,EAAQR,QAAQa,KAAK,MACjC,CAAC3E,IAEGoE,EAAUlE,KAAI,SAAC2C,GAAD,OACnB,cAACF,GAAD,CACEd,YAAagB,EAAShB,YACtB3D,KAAM2E,EAAS3E,KACfwB,KAAMhG,EACNqF,EAAG8D,EAAS9D,EACZC,EAAG6D,EAAS7D,EACZgB,SAAUA,EACVC,YAAaA,GAPf,cAQc4C,EAAShB,YARvB,YAQsCgB,EAAS9D,EAR/C,YAQoD8D,EAAS7D,OAKlD,SAAS4F,KACtB,MACElH,aAAiBhB,GADXf,EAAR,EAAQA,gBAAiBJ,EAAzB,EAAyBA,gBAAiBG,EAA1C,EAA0CA,gBAAiBD,EAA3D,EAA2DA,gBAE3D,OACE,8BACE,cAACwI,GAAD,CACEC,eAAgB,CAAC,KAAM,KAAM,MAC7BC,iBAAiB,KACjBC,UAAW,CACT,CAAEvC,YAAa,QAAS3D,KAAM,EAAGa,EAAG,EAAGC,EAAG,IAC1C,CAAE6C,YAAa,OAAQ3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,IAE5CqF,MAAO1I,IAET,cAACsI,GAAD,CACEC,eAAgB,CAAC,KAAM,KAAM,MAAO,KAAM,MAC1CC,iBAAiB,KACjBC,UAAW,CACT,CAAEvC,YAAa,OAAQ3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,GAC1C,CAAE6C,YAAa,QAAS3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,KAE7CqF,MAAO9I,IAET,cAAC0I,GAAD,CACEC,eAAgB,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,MACxDC,iBAAiB,OACjBC,UAAW,CACT,CAAEvC,YAAa,QAAS3D,KAAM,EAAGa,EAAG,EAAGC,EAAG,IAC1C,CAAE6C,YAAa,OAAQ3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,KAE5CqF,MAAO3I,IAET,cAACuI,GAAD,CACEC,eAAgB,CAAC,MACjBC,iBAAiB,OACjBC,UAAW,CACT,CAAEvC,YAAa,OAAQ3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,IAC1C,CAAE6C,YAAa,QAAS3D,KAAM,EAAGa,EAAG,GAAIC,EAAG,KAE7CqF,MAAO5I,OC3EA,SAASoJ,KACtB,IAAQ1I,EAAsBuB,aAAiBhB,GAAvCP,kBACR,EAA0CuB,YAAe,GAAzD,mBAAOoH,EAAP,KAAsBC,EAAtB,KACQ7I,EAAsBwB,aAAiBhB,GAAvCR,kBAEF8I,EAAW,IAAIhK,KACnB,SAACuJ,EAAMC,GACLrI,EAAkBsI,qBAAqBD,EAAM,MAAOD,KAEtD,CAAC,KAAM,CAAC,KAAM,MAAO,CAAC,KAAM,KAAM,KAAM,QACxC,MAEIU,EAAgB,IAAIjK,KACxB,SAACuJ,EAAMW,GACLhJ,EAAkBgJ,UAAUtB,OAAOsB,EAAW,IAAMX,KAEtD,CAAC,KAAM,KAAM,OACb,MAaF,OAVA7G,aAAgB,WAQd,OAPIoH,GACFE,EAASN,MAAM,GACfO,EAAcP,MAAM,MAEpBM,EAASL,KAAK,GACdM,EAAcN,KAAK,IAEd,kBAAMK,EAASL,KAAK,MAC1B,CAACG,IAEF,8BACE,cAAC7D,GAAD,CACEC,SAAU,GACVE,GAAI,GACJC,GAAI,GACJ7B,OAAQ9F,EACRsG,SAAU8E,EACV7E,YAAa8E,IAEf,cAAC9D,GAAD,CACEC,SAAU,GACVE,GAAI,GACJC,GAAI,GACJ7B,OAAQ9F,EACRsG,SAAU8E,EACV7E,YAAa8E,IAEf,cAAC9D,GAAD,CACEC,SAAU,GACVE,GAAI,GACJC,GAAI,GACJ7B,OAAQ9F,EACRsG,SAAU8E,EACV7E,YAAa8E,IAEf,cAAC9D,GAAD,CACEC,SAAU,GACVE,GAAI,GACJC,GAAI,GACJ7B,OAAQ9F,EACRsG,SAAU8E,EACV7E,YAAa8E,IAEf,cAAC9D,GAAD,CAASC,SAAU,GAAIE,GAAI,GAAIC,GAAI,GAAI7B,OAAQ9F,OCnEtC,SAASyL,GAAT,GAA4D,IAA1CzF,EAAyC,EAAzCA,KAAMX,EAAmC,EAAnCA,EAAGC,EAAgC,EAAhCA,EAAGF,EAA6B,EAA7BA,GAAIkB,EAAyB,EAAzBA,SAAUoF,EAAe,EAAfA,YACzD,EAAsC1H,WAAegC,GAArD,mBAAO2F,EAAP,KAAoBC,EAApB,KACA,EAAiC5H,aAAiBhB,GAA1CL,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,WAUlB,OARAoB,aAAgB,WAEZ4H,EADEtF,EACa1D,EAEAoD,KAEhB,CAACM,IAGF,sBACEf,MAAO5C,EACP6C,OAAQ7C,EACRqD,KAAM2F,EACNtG,EAAGA,EAAI1C,EAAW,GAClB2C,EAAGA,EAAI3C,EAAW,GAClB+B,QAASgH,EACTpE,UAASlC,ICnBA,SAASyG,GAAT,GAAwD,IAAtC7F,EAAqC,EAArCA,KAAMX,EAA+B,EAA/BA,EAAGC,EAA4B,EAA5BA,EAAGgB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YACrD,EAA4CvC,YAAe,GAA3D,mBAAO8H,EAAP,KAAuBC,EAAvB,KAOA,OACE,cAAC9F,GAAD,CAAGmB,YAAad,EAAW,GAAM,EAAG5B,QAPtC,SAAsBoC,IACfA,EAAMC,UAAYR,GAA2B,MAAZD,GACpCC,GAAaD,IAKf,SACE,cAACmF,GAAD,CACEzF,KAAMA,EACNX,EAAGA,EACHC,EAAGA,EACHgB,SAAUwF,EACVJ,YAAa,kBAAMK,GAAmBD,QChB/B,SAASE,GAAT,GAQX,IAPFzG,EAOC,EAPDA,MACAF,EAMC,EANDA,EACAC,EAKC,EALDA,EACAQ,EAIC,EAJDA,OACAE,EAGC,EAHDA,KACAM,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAgCvC,IAAMwE,SAAS,IAA/C,mBAAOnC,EAAP,KAAiBuB,EAAjB,KAgBA,OAdA5D,IAAMyE,WAAU,WAEd,IADA,IAAMJ,EAAM,GACHhD,EAAI,EAAGA,EAAIE,EAAOF,IACzB,IAAK,IAAIC,EAAI,EAAGA,EAAIC,EAAOD,IAChB,GAALD,GAAUA,GAAKE,EAAQ,GAAU,GAALD,GAAUA,GAAKC,EAAQ,EACrD8C,EAAIJ,KAAK,CAAEjC,KAAMF,EAAQT,IAAGC,MAE5BU,GAAQqC,EAAIJ,KAAK,CAAEjC,OAAMX,IAAGC,MAIlCsC,EAAYS,KACX,CAAC9C,EAAOO,EAAQE,IAGjB,cAACI,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,IC3BnB,SAAS0F,GAAT,GAAsE,IAAhDvE,EAA+C,EAA/CA,GAAIC,EAA2C,EAA3CA,GAAIrB,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,YAAa2F,EAAgB,EAAhBA,aACnD,OACE,oBAAGxH,QAASwH,EAAZ,UACE,cAAC3E,GAAD,CACEC,SAAU,EACVE,GAAIA,EACJC,GAAIA,EACJ7B,OAAQ9F,EACRgG,KAAMhG,EACNyH,QAAM,EACNnB,SAAUA,EACVC,YAAaA,IAEf,cAACsF,GAAD,CACExG,EAAGqC,EACHpC,EAAGqC,EACH3B,KAAMhG,EACNsG,SAAUA,EACVC,YAAaA,OAMN,SAAS4F,KACtB,MAAsCnI,aAAiBhB,GAA/C3B,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,MAAOI,EAA3B,EAA2BA,OAC3B,EAAwCqC,YAAe,GAAvD,mBAAOoI,EAAP,KAAqBC,EAArB,KACA,EAAwCrI,YAAe,GAAvD,mBAAOsI,EAAP,KAAqBC,EAArB,KACA,EAA0CvI,YAAe,GAAzD,mBAAOwI,EAAP,KAAsBC,EAAtB,KACA,EAA0CzI,YAAe,GAAzD,mBAAO0I,EAAP,KAAsBC,EAAtB,KACA,EAAkD3I,WAAe,GAAjE,mBAAO4I,EAAP,KAA0BC,EAA1B,KAsCA,OA9BA7I,aAAgB,WACdzC,EAAMG,IAAI4H,MAAQ8C,EAAe,GAAM,IACtC,CAACA,IACJpI,aAAgB,WACdrC,EAAOD,IAAI4H,MAAQgD,EAAe,EAAI,IACrC,CAACA,IAWJtI,aAAgB,WACd3C,EAAWyL,MAAQF,EACfA,EAAoB,GACtBH,GAAiB,GACjBE,GAAiB,IACRC,EAAoB,GAC7BH,GAAiB,GACjBE,GAAiB,KAEjBF,GAAiB,GACjBE,GAAiB,MAElB,CAACC,IAGF,8BACE,cAACX,GAAD,CACEvE,GAAI,EACJC,GAAI,GACJrB,SAAU8F,EACV7F,YAAa8F,IAEf,cAACJ,GAAD,CACEvE,GAAI,GACJC,GAAI,GACJrB,SAAUgG,EACV/F,YAAagG,IAEf,cAACN,GAAD,CACEvE,GAAI,GACJC,GAAI,EACJrB,SAAUkG,EACVjG,YAAakG,EACbP,aA3CN,SAA2B/B,GACpBA,EAAEpD,UACL8F,EAAqBD,EAAoB,MA2CzC,cAACX,GAAD,CACEvE,GAAI,GACJC,GAAI,GACJrB,SAAUoG,EACVnG,YAAaoG,EACbT,aA7CN,SAA2B/B,GACpBA,EAAEpD,UACL8F,EAAqBD,EAAoB,MA6CzC,oBAAGlI,QAhEP,WACEmI,EAAqB,GACrBR,GAAgB,GAChBE,GAAgB,IA6Dd,UACE,cAACP,GAAD,CAAQzG,MAAO,EAAGF,EAAG,GAAIC,EAAG,GAAIQ,OAAQ9F,IACxC,cAAC6L,GAAD,CAAQxG,EAAG,GAAIC,EAAG,GAAIQ,OAAQ9F,UCtGvB,SAAS+M,GAAT,GAQX,IAPFC,EAOC,EAPDA,OACAC,EAMC,EANDA,MACArJ,EAKC,EALDA,MACAyB,EAIC,EAJDA,EACAC,EAGC,EAHDA,EACAgB,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAgCvC,IAAMwE,WAAtC,mBAAOnC,EAAP,KAAiBuB,EAAjB,KAwBA,OAtBA5D,IAAMyE,WAAU,WACd,IAAMyE,EAAe,GACrB,GAAc,aAAVD,EACF,IAAK,IAAI5F,EAAI,EAAGA,EAAI2F,EAAQ3F,IAC1B6F,EAAajF,KAAK,CAAEjC,KAAMpC,EAAOyB,EAAG,EAAGC,EAAG+B,SAEvC,GAAc,eAAV4F,EACT,IAAK,IAAI5F,EAAI,EAAGA,EAAI2F,EAAQ3F,IAC1B6F,EAAajF,KAAK,CAAEjC,KAAMpC,EAAOyB,EAAGgC,EAAG/B,EAAG,SAEvC,GAAc,kBAAV2H,EACT,IAAK,IAAI5F,EAAI,EAAGA,EAAI2F,EAAQ3F,IAC1B6F,EAAajF,KAAK,CAAEjC,KAAMpC,EAAOyB,EAAGgC,EAAG/B,EAAG+B,SAEvC,GAAc,gBAAV4F,EACT,IAAK,IAAI5F,EAAI,EAAGA,EAAI2F,EAAQ3F,IAC1B6F,EAAajF,KAAK,CAAEjC,KAAMpC,EAAOyB,EAAGgC,EAAG/B,EAAG0H,EAAS3F,EAAI,IAG3DO,EAAYsF,KACX,CAACF,EAAQC,EAAOrJ,IAEZyC,EACL,cAACD,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,IAGf,sBCvCW,SAAS4G,KACtB,MAKInJ,IAAMkB,WAAWlC,GAJnBd,EADF,EACEA,aACAC,EAFF,EAEEA,cACAC,EAHF,EAGEA,kBACAC,EAJF,EAIEA,oBAEI+K,EAAY,IAAI9L,KACpB,SAAUuJ,EAAMC,GACd5I,EAAa6I,qBAAqBD,EAAM,GAAKD,KAE/C,CAAC,KAAM,KAAM,KAAM,KAAM,MAAO,MAChC,MAEEwC,EAAc,IAAI/L,KACpB,SAAUuJ,EAAMC,GACd3I,EAAc4I,qBAAqBD,EAAM,GAAKD,KAEhD,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAC/B,QAEEyC,EAAkB,IAAIhM,IAAa,CACrCiM,SAAU,SAAU1C,EAAMC,GACxB1I,EAAkB2I,qBAAqBD,EAAM,KAE/C0C,OAAQ,CAAC,KAAM,KAAM,KAAM,OAC3B5C,QAAS,SACT6C,aAAc,MAEZC,EAAoB,IAAIpM,IAAa,CACvCiM,SAAU,SAAU1C,EAAMC,GACxBzI,EAAoB0I,qBAAqBD,EAAM,KAEjD0C,OAAQ,CAAC,KAAM,KAAM,KAAM,OAC3B5C,QAAS,SACT6C,aAAc,MAGhB,EAAoDzJ,IAAMwE,UAAS,GAAnE,mBAAOmF,EAAP,KAA2BC,EAA3B,KACA,EAAgD5J,IAAMwE,UAAS,GAA/D,mBAAOqF,EAAP,KAAyBC,EAAzB,KACA,EAAwC9J,IAAMwE,UAAS,GAAvD,mBAAOuF,EAAP,KAAqBC,EAArB,KACA,EAAoChK,IAAMwE,UAAS,GAAnD,mBAAOyF,EAAP,KAAmBC,EAAnB,KAqBA,OAnBAlK,IAAMyE,WAAU,WAEd,OADAsF,EAAeV,EAAYrC,MAAM,GAAKqC,EAAYpC,KAAK,GAChD,kBAAMoC,EAAYpC,KAAK,MAC7B,CAAC8C,IAEJ/J,IAAMyE,WAAU,WAEd,OADAwF,EAAab,EAAUpC,MAAM,GAAKoC,EAAUnC,KAAK,GAC1C,kBAAMmC,EAAUnC,KAAK,MAC3B,CAACgD,IAEJjK,IAAMyE,WAAU,WAEd,OADAoF,EAAmBP,EAAgBtC,MAAM,GAAKsC,EAAgBrC,KAAK,GAC5D,kBAAMqC,EAAgBrC,KAAK,MACjC,CAAC4C,IAEJ7J,IAAMyE,WAAU,WAEd,OADAkF,EAAqBD,EAAkB1C,MAAM,GAAK0C,EAAkBzC,KAAK,GAClE,kBAAMyC,EAAkBzC,KAAK,MACnC,CAAC0C,IAEF,8BACE,cAACZ,GAAD,CACEC,OAAQ,GACRC,MAAM,aACNrJ,MAAO5D,EACPqF,EAAG,GACHC,EAAG,GACHgB,SAAUqH,EACVpH,YAAaqH,IAEf,cAACb,GAAD,CACEC,OAAQ,GACRC,MAAM,WACNrJ,MAAO5D,EACPqF,EAAG,GACHC,EAAG,GACHgB,SAAUuH,EACVtH,YAAauH,IAEf,cAACf,GAAD,CACEC,OAAQ,GACRC,MAAM,gBACNrJ,MAAO5D,EACPqF,EAAG,GACHC,EAAG,GACHgB,SAAUyH,EACVxH,YAAayH,IAEf,cAACjB,GAAD,CACEC,OAAQ,GACRC,MAAM,cACNrJ,MAAO5D,EACPqF,EAAG,GACHC,EAAG,GACHgB,SAAU2H,EACV1H,YAAa2H,OC9FN,SAASC,KACtB,OACE,eAACtJ,GAAD,CAAQC,SAAU,CAAC,GAAI,IAAvB,UACE,cAACuE,GAAD,IACA,cAAC8B,GAAD,IACA,cAACD,GAAD,IACA,cAACiC,GAAD,IACA,cAAC5F,GAAD,CAASC,SAAU,GAAIE,GAAI,GAAIC,GAAI,GAAI7B,OAAQ9F,IAC/C,cAACmM,GAAD,OCba,IAAI7K,IAAgB,GAAGM,gBAA1C,IACML,GAAQ,IAAID,IAAmB,CACnCE,SAAU,EACVC,SAAU,KAETG,gBACGwM,GAAS,IAAI9M,IAAa,CAC9BpB,WAAY,CACVC,KAAM,YAERC,gBAAiB,GACjBC,WAAY,CACVF,KAAM,UAERG,SAAU,CACRC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,EACTC,YAAa,UAEd4B,QAAQhB,IAIP8M,IAHW,IAAI/M,IAAa,CAAEgN,WAAY,MAAQ/L,QAAQhB,IAC/C,IAAID,IAAW,CAAEgN,WAAY,MAAQ/L,QAAQhB,IAE7C,IAAID,KACjB,SAAUuJ,EAAMC,GACdsD,GAAOrD,qBAAqBD,EAAM,MAEpC,CAAC,KAAM,KAAM,MACb,OAGEyD,GAAW,IAAIjN,KACjB,SAAUuJ,EAAMC,GACdsD,GAAOrD,qBAAqBD,EAAM,MAEpC,CAAC,KAAM,KAAM,MAAO,KAAM,MAC1B,MAGE0D,GAAW,IAAIlN,KACjB,SAAUuJ,EAAMC,GACdsD,GAAOrD,qBAAqBD,EAAM,MAEpC,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,MACxC,QAGa,SAAS2D,KAiBtB,OAhBAzK,IAAMyE,WAAU,WAad,OAZA4F,GAASrD,MAAM,GAAGC,KAAK,GACvBsD,GAASvD,MAAM,GAAGC,KAAK,IACvBuD,GAASxD,MAAM,IAAIC,KAAK,IAExB3J,IAAe0J,MAAM,GACrB1J,IAAe2J,KAAK,GACpB3J,IAAe0J,MAAM,GACrB1J,IAAe2J,KAAK,IACpB3J,IAAe0J,MAAM,IACrB1J,IAAe0J,MAAM,IACrB1J,IAAe+I,IAAIf,MAAQ,IAEpB,kBAAMhI,IAAe2J,KAAK,MAChC,IAGD,cAAC,IAAMyD,SAAP,UACE,cAAC7J,GAAD,CAAQC,SAAU,CAAC,GAAI,IAAKC,UAAU,EAAtC,SACE,cAACuD,GAAD,CAAeH,YAAY,KAAKnC,KAAK,MAAMuC,WAAY,S,ICxE3DoG,GACAhE,G,qCCGEzH,GAAYC,aAAW,CAC3BC,KAAM,CACJC,SAAU,QACVuL,IAAK,EACLC,KAAM,EACNtJ,MAAO,QACPC,OAAQ,QACRsJ,SAAU,SACVlK,gBAAiB,kBACjBmK,OAAQ,IACRvL,QAAS,qBAAGV,eAAuC,OAAS,QAC5DW,eAAgB,SAChBC,WAAY,UAEdsL,YAAa,CACXpL,MAAO,sBACP,UAAW,CACTA,MAAO,yBAET,qBAAsB,CACpBa,SAAU,UAKD,SAASwK,KACtB,MAA8CjL,IAAMkB,WAAWlC,GAAvDF,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,kBAClBgB,EAAUb,GAAU,CAAEJ,mBAFa,8CAIzC,uBAAAoM,EAAA,yDACOpM,EADP,gCAEUxB,MAFV,OAGIyB,GAAkB,GAHtB,4CAJyC,sBAWzC,OACE,qBAAKoB,UAAWJ,EAAQX,KAAxB,SACE,cAACmB,EAAA,EAAD,CAAYG,QAbyB,2CAaEP,UAAWJ,EAAQiL,YAA1D,SACE,cAACG,GAAA,EAAD,QCzCO,SAASC,KACtB,MAAkCpL,IAAMwE,UAAS,GAAjD,mBAAO6G,EAAP,KAAkBC,EAAlB,KACA,EAAoCtL,IAAMwE,UAAS,GAAnD,mBAAO+G,EAAP,KAAmBC,EAAnB,KAEA,OACE,eAAC,IAAMd,SAAP,WACE,eAAC7J,GAAD,CACEC,SAAU,CAAC,GAAI,IACfF,gBAAgB,OAFlB,UAME,cAAC2C,GAAD,CACEC,SAAU,GACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAU+I,EACV9I,YAAa+I,IAEf,cAAC/H,GAAD,CACEC,SAAU,GACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAU+I,EACV9I,YAAa+I,IAEf,cAAC/H,GAAD,CACEC,SAAU,GACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAU+I,EACV9I,YAAa+I,IAEf,cAAC/H,GAAD,CACEC,SAAU,GACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAU+I,EACV9I,YAAa+I,IAEf,cAAC/H,GAAD,CACEC,SAAU,EACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAU+I,EACV9I,YAAa+I,OAGjB,eAACzK,GAAD,CACEC,SAAU,CAAC,GAAI,IACfF,gBAAgB,OAFlB,UAME,cAAC2C,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,GACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,EACVxB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,IAEf,cAACjI,GAAD,CACEC,SAAU,EACVC,QAAM,EACNzB,KAAK,UACLF,OAAO,UACP4B,GAAI,GACJC,GAAI,GACJrB,SAAUiJ,EACVhJ,YAAaiJ,UCtJR,SAASC,GAAT,GAQX,IAPFjI,EAOC,EAPDA,SACAkI,EAMC,EANDA,UACA5J,EAKC,EALDA,OACAT,EAIC,EAJDA,EACAC,EAGC,EAHDA,EACAgB,EAEC,EAFDA,SACAC,EACC,EADDA,YAEA,EAAgCvC,IAAMwE,SAAS,IAA/C,mBAAOnC,EAAP,KAAiBuB,EAAjB,KAoBA,OAlBA5D,IAAMyE,WAAU,WAGd,IAFA,IAAMyE,EAAe,GAEZ7H,EAAI,EAAGA,EAAImC,EAAUnC,IAC5B,IAAK,IAAIC,EAAI,EAAGA,EAAIkC,EAAUlC,KAEzBD,GAAKwD,KAAK8G,OAAOnI,EAAWkI,GAAa,IACxCrK,EAAIwD,KAAK8G,MAAMnI,GAAYA,EAAWkI,GAAa,IACpDpK,GAAKuD,KAAK8G,OAAOnI,EAAWkI,GAAa,IACxCpK,EAAIuD,KAAK8G,MAAMnI,GAAYA,EAAWkI,GAAa,KAErDxC,EAAajF,KAAK,CAAEjC,KAAMF,EAAQT,IAAGC,MAI3CsC,EAAYsF,KACX,CAAC1F,EAAUkI,IAGZ,cAACtJ,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,IClCJ,SAASqJ,KACtB,MAAkC5L,YAAe,GAAjD,mBAAOqL,EAAP,KAAkBC,EAAlB,KACA,OACE,cAACzK,GAAD,CAAQlC,SAAU,GAAImC,SAAU,CAAC,GAAI,IAArC,SACE,8BACE,cAAC2K,GAAD,CACE9M,SAAU,GACV6E,SAAU,GACVkI,UAAW,EACX5J,OAAO,UACPQ,SAAU+I,EACV9I,YAAa+I,IAEf,cAACG,GAAD,CACE9M,SAAU,GACV6E,SAAU,GACVkI,UAAW,EACX5J,OAAO,UACPQ,SAAU+I,EACV9I,YAAa+I,IAEf,cAACG,GAAD,CACE9M,SAAU,GACV6E,SAAU,EACVkI,UAAW,EACX5J,OAAO,UACPT,EAAG,EACHC,EAAG,EACHgB,SAAU+I,EACV9I,YAAa+I,SC9BR,SAASO,KACtB,OACE,cAAChL,GAAD,CAAQlC,SAAU,GAAImC,SAAU,CAAC,GAAI,IAArC,SACE,8BACE,cAAC2K,GAAD,CAAM9M,SAAU,GAAI6E,SAAU,GAAIkI,UAAW,EAAG5J,OAAO,YACvD,cAAC2J,GAAD,CACE9M,SAAU,GACV6E,SAAU,EACVkI,UAAW,EACX5J,OAAO,UACPT,EAAG,EACHC,EAAG,IAEL,cAACmK,GAAD,CACE9M,SAAU,GACV6E,SAAU,EACVkI,UAAW,EACX5J,OAAO,UACPT,EAAG,EACHC,EAAG,KAEL,cAACmK,GAAD,CACE9M,SAAU,GACV6E,SAAU,EACVkI,UAAW,EACX5J,OAAO,UACPT,EAAG,EACHC,EAAG,IAEL,cAACmK,GAAD,CACE9M,SAAU,GACV6E,SAAU,EACVkI,UAAW,EACX5J,OAAO,UACPT,EAAG,GACHC,EAAG,SC5BE,SAASwK,GAAT,GAAqC,IAAjB9P,EAAgB,EAAhBA,OAAQqF,EAAQ,EAARA,EAAGC,EAAK,EAALA,EAC5C,EAAkCtB,YAAe,GAAjD,mBAAOqL,EAAP,KAAkBC,EAAlB,KAEA,OACE,eAACrJ,GAAD,CAAGZ,EAAGA,EAAGC,EAAGA,EAAZ,UACE,cAACmK,GAAD,CACEjI,SAAU,EACVkI,UAAW,EACX5J,OAAQ9F,EAAO,GACfqF,EAAG,EACHC,EAAG,EACHgB,SAAU+I,EACV9I,YAAa+I,IAEf,cAACG,GAAD,CACEjI,SAAU,EACVkI,UAAW,EACX5J,OAAQ9F,EAAO,GACfqF,EAAG,EACHC,EAAG,EACHgB,SAAU+I,EACV9I,YAAa+I,IAEf,cAACG,GAAD,CACEjI,SAAU,EACVkI,UAAW,EACX5J,OAAQ9F,EAAO,GACfqF,EAAG,EACHC,EAAG,EACHgB,SAAU+I,EACV9I,YAAa+I,IAEf,cAACG,GAAD,CACEjI,SAAU,EACVkI,UAAW,EACX5J,OAAQ9F,EAAO,GACfqF,EAAG,EACHC,EAAG,EACHgB,SAAU+I,EACV9I,YAAa+I,OC5CN,SAASS,KACtB,IAAQpN,EAAaqB,IAAMkB,WAAWlC,GAA9BL,SACR,OACE,eAACkC,GAAD,CAAQlC,SAAUA,EAAUmC,SAAU,CAAC,GAAI,IAAKF,gBAAgB,QAAhE,UACE,oBAAGuB,UAAS,oBAAe,EAAIxD,EAAnB,aAAgC,EAAIA,EAApC,KAAZ,UACE,cAACmN,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,IAEL,cAACyK,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,OAGP,oBAAGc,UAAS,oBAAe,EAAIxD,EAAnB,aAAgC,EAAIA,EAApC,KAAZ,UACE,cAACmN,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,IAEL,cAACyK,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,IAEL,cAACyK,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,QAGP,oBAAGc,UAAS,oBAAe,EAAIxD,EAAnB,aAAgC,GAAKA,EAArC,KAAZ,UACE,cAACmN,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,IAEL,cAACyK,GAAD,CACE9P,OAAQ,CAAC,OAAQ,UAAW,OAAQ,WACpC2C,SAAU,GACV0C,EAAG,UPtBN,SAAS2K,GAAcnF,GACxB8D,GAAU,IAAM,GAClBhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAEnC,IAAZ8D,IACFhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAEnC,IAAZ8D,IACFhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAEnC,IAAZ8D,IACFhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAEnC,IAAZ8D,IACFhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAEnC,IAAZ8D,IACFhE,GAAMI,qBAAqB,CAAC,OAAQ,MAAOF,EAAM,IAInD8D,IAAWA,GAAU,GAAK,GAxC5BA,GAAU,GACVhE,GAAQ,IAAIrJ,IAAe,CACzB2O,aAAc,GACd3P,SAAU,CACRC,OAAQ,KACRE,QAAS,GACTD,MAAO,GACPE,QAAS,IAEXE,OAAQ,KACPsP,YACGC,IAAI,CAAEC,QAAS,OQZrB,IAAMlN,GAAYC,aAAW,CAC3BC,KAAM,CACJ,WAAY,CACVI,QAAS,YAKA,SAAS6M,KACtB,IAAMtM,EAAUb,KACVoN,EAAWtM,IAAMuM,OAAO,IAAIjP,IAAU0O,GAAe,QAC3D,EAA4BhM,IAAMwE,UAAS,GAA3C,mBAAOgI,EAAP,KAAeC,EAAf,KAWA,OATAzM,IAAMyE,WAAU,WAEd,OADA+H,EAASF,EAASlG,QAAQY,MAAM,GAAKsF,EAASlG,QAAQa,KAAK,GACpD,kBAAMqF,EAASlG,QAAQa,KAAK,MAClC,CAACuF,IAOF,qBAAKrM,UAAWJ,EAAQX,KAAxB,SACE,wBAAQsB,QANZ,WACE+L,GAAWD,IAKT,2BCxBS,SAASE,KACtB,IACA,EAA0C1M,YAAe,GAAzD,mBAAO2M,EAAP,KAAsBC,EAAtB,KACA,EAA0C5M,YAAe,GAAzD,mBAAO6M,EAAP,KAAsBC,EAAtB,KACA,EAAsC9M,YAAe,GAArD,mBAAO+M,EAAP,KAAoBC,EAApB,KACA,EAA0ChN,YAAe,GAAzD,mBAAOiN,EAAP,KAAsBC,EAAtB,KAEA,OACE,eAACrM,GAAD,CAAQlC,SAPO,GAOamC,SAAU,CAAC,GAAI,IAA3C,UACE,cAACkH,GAAD,CACEzG,MAAO,EACPO,OAAO,QACPQ,SAAUqK,EACVpK,YAAaqK,IAEf,cAAC5E,GAAD,CACEzG,MAAO,EACPO,OAAO,QACPE,KAAK,QACLX,EAAG,EACHiB,SAAUuK,EACVtK,YAAauK,IAEf,cAAC9E,GAAD,CACEzG,MAAO,EACPO,OAAO,QACPE,KAAK,MACLX,EAAG,GACHiB,SAAUyK,EACVxK,YAAayK,IAEf,eAAC/K,GAAD,CAAGZ,EAAG,EAAGC,EAAG,EAAZ,UACE,cAAC0G,GAAD,CACEzG,MAAO,GACPO,OAAO,QACPQ,SAAU2K,EACV1K,YAAa2K,IAEf,cAAClF,GAAD,CACEzG,MAAO,EACPO,OAAO,QACPT,EAAG,EACHC,EAAG,EACHgB,SAAU2K,EACV1K,YAAa2K,UC9CR,SAASC,KACtB,IAAMxO,EAAW,GACjB,OACE,eAACkC,GAAD,CAAQlC,SAAU,GAAImC,SAAU,CAAC,GAAI,IAAKC,UAAQ,EAACC,UAAU,UAA7D,UACE,cAAC+H,GAAD,CACEC,OAAQ,GACRC,MAAM,aACNrJ,MAAM,QACNjB,SAAUA,EACV0C,EAAG,IAEL,cAAC0H,GAAD,CACEC,OAAQ,GACRC,MAAM,WACNrJ,MAAM,QACNjB,SAAUA,EACV2C,EAAG,IAEL,cAACyH,GAAD,CACEC,OAAQ,GACRC,MAAM,aACNrJ,MAAM,QACNjB,SAAUA,EACV0C,EAAG,EACHC,EAAG,KAEL,cAACyH,GAAD,CACEC,OAAQ,GACRC,MAAM,WACNrJ,MAAM,QACNjB,SAAUA,EACV0C,EAAG,GACHC,EAAG,IAEL,cAACyH,GAAD,CACEC,OAAQ,GACRC,MAAM,gBACNrJ,MAAM,QACNjB,SAAUA,EACV0C,EAAG,EACHC,EAAG,IAEL,cAACyH,GAAD,CACEC,OAAQ,GACRC,MAAM,cACNrJ,MAAM,QACNjB,SAAUA,EACV0C,EAAG,EACHC,EAAG,OC/CI,SAAS8L,GAAT,GAAgE,IAAhDrI,EAA+C,EAA/CA,OAAQnF,EAAuC,EAAvCA,MAAO2B,EAAgC,EAAhCA,MAAOe,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YACvD8K,EAAI9L,EAAQ,IAAM,EAAIA,EAAQ,EAAIA,EAClC+L,EAASD,EAAI,GAAKA,EAAIxI,KAAK8G,MAAM0B,EAAI,KAAOA,EAAIxI,KAAK8G,MAAM0B,EAAI,GAC/DE,EAAKD,EAAS,IAAM,EAAIA,EAAS,EAAIA,EAE3C,OACE,eAACrL,GAAD,CAAGZ,EAAG0D,EAAO,GAAIzD,EAAGyD,EAAO,GAA3B,UACE,cAACgE,GAAD,CACEC,OAAQqE,EACRpE,MAAM,aACNrJ,MAAOA,EACPyB,EAAGwD,KAAKC,MAAMuI,EAAI,GAClB/K,SAAUA,EACVC,YAAaA,IAEf,cAACwG,GAAD,CACEC,OAAQqE,EACRpE,MAAM,WACNrJ,MAAOA,EACP0B,EAAGuD,KAAKC,MAAMuI,EAAI,GAClB/K,SAAUA,EACVC,YAAaA,IAEf,cAACwG,GAAD,CACEC,OAAQuE,EACRtE,MAAM,gBACNrJ,MAAOA,EACPyB,EAAGwD,KAAKC,MAAMyI,EAAK,GACnBjM,EAAGuD,KAAKC,MAAMyI,EAAK,GACnBjL,SAAUA,EACVC,YAAaA,IAEf,cAACwG,GAAD,CACEC,OAAQuE,EACRtE,MAAM,cACNrJ,MAAOA,EACPyB,EAAGwD,KAAKC,MAAMyI,EAAK,GACnBjM,EAAGuD,KAAKC,MAAMyI,EAAK,GACnBjL,SAAUA,EACVC,YAAaA,OCpCN,SAAS4H,KACtB,IAAMqD,EAAM,iBACNC,EAAQ,kBAEd,OACE,eAAC5M,GAAD,CACEC,SAAU,CAAC,GAAI,IACfF,gBAAgB,OAChBG,UAAQ,EACRC,UAAU,OAJZ,UAME,cAACuC,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAQ0L,EAAK9J,GAAI,GAAIC,GAAI,KAChD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAO,OAAO4B,GAAI,GAAIC,GAAI,KACjD,cAACJ,GAAD,CAASC,SAAU,GAAI1B,OAAO,OAAOE,KAAK,OAAOyB,QAAM,EAACC,GAAI,GAAIC,GAAI,KACpE,cAACyJ,GAAD,CAAMrI,OAAQ,CAAC,GAAI,IAAKnF,MAnBb,kBAmB4B2B,MAAO,KAC9C,cAACyG,GAAD,CAAQzG,MAAO,EAAGO,OAAQ2L,EAAOzL,KAAMyL,EAAOpM,EAAG,GAAIC,EAAG,KACxD,cAACmK,GAAD,CAAMjI,SAAU,EAAGkI,UAAW,EAAG5J,OAAO,QAAQT,EAAG,GAAIC,EAAG,QC3BjD,SAASoM,KACtB,MAAsC1N,YAAe,GAArD,mBAAO2N,EAAP,KAAoBC,EAApB,KACA,EAAwC5N,YAAe,GAAvD,mBAAO6N,EAAP,KAAqBC,EAArB,KAEA,OACE,eAACjN,GAAD,CAAQC,SAAU,CAAC,GAAI,IAAKF,gBAAgB,OAAOG,UAAQ,EAA3D,UACE,cAACqM,GAAD,CACErI,OAAQ,CAAC,EAAG,GACZnF,MAAM,QACN2B,MAAO,EACPe,SAAUqL,EACVpL,YAAaqL,IAEf,cAACR,GAAD,CACErI,OAAQ,CAAC,EAAG,GACZnF,MAAM,QACN2B,MAAO,EACPe,SAAUuL,EACVtL,YAAauL,IAEf,cAACV,GAAD,CAAMrI,OAAQ,CAAC,GAAI,GAAInF,MAAM,QAAQ2B,MAAO,IAC5C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,GAAI,GAAInF,MAAM,QAAQ2B,MAAO,IAC5C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,GAAI,GAAInF,MAAM,QAAQ2B,MAAO,IAC5C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,EAAG,IAAKnF,MAAM,QAAQ2B,MAAO,KAC5C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,GAAI,IAAKnF,MAAM,QAAQ2B,MAAO,KAC7C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,EAAG,IAAKnF,MAAM,QAAQ2B,MAAO,KAC5C,cAAC6L,GAAD,CAAMrI,OAAQ,CAAC,GAAI,IAAKnF,MAAM,QAAQ2B,MAAO,QC3BpC,SAASwM,KACtB,OACE,cAAClN,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,SACE,cAACuC,GAAD,CAASC,SAAU,GAAIxB,KAAK,MAAMF,OAAO,MAAM4B,GAAI,GAAIC,GAAI,O,cCDlD,SAASqK,KACtB,IAAMzM,EAAQ,GACd,EAAkCvB,IAAMwE,SAAS,IAAjD,mBAAOyJ,EAAP,KAAkBC,EAAlB,KACA,EAA8BlO,IAAMwE,SAAS,IAA7C,mBAAO2J,EAAP,KAAgBC,EAAhB,KAoBA,OAlBApO,IAAMyE,WAAU,WAEd,IADA,IAAMJ,EAAM,GACHhD,EAAI,EAAGA,EAAIE,EAAOF,IACzB,IAAK,IAAIC,EAAI,EAAGA,EAAIC,EAAOD,IACzB+C,EAAIJ,KAAK,CAAEjC,KAAMqM,aAAiBxJ,KAAKyJ,UAAWjN,IAAGC,MAGzD4M,EAAa7J,GAGb,IADA,IAAMkK,EAAQ,GACLlN,EAAI,EAAGA,EAAIE,EAAOF,IACzB,IAAK,IAAIC,EAAI,EAAGA,EAAIC,EAAOD,IACzBiN,EAAMtK,KAAK,CAAEjC,KAAMqM,aAAiBxJ,KAAK2J,MAAM3J,KAAKyJ,WAAYjN,IAAGC,MAGvE8M,EAAWG,KACV,CAAChN,IAGF,eAAC,IAAMmJ,SAAP,WACE,cAAC7J,GAAD,CAAQC,SAAU,CAACS,EAAOA,GAA1B,SACE,cAACa,GAAD,CAAWC,SAAU4L,EAAW5M,EAAG,EAAGC,EAAG,MAE3C,cAACT,GAAD,CAAQC,SAAU,CAACS,EAAOA,GAA1B,SACE,cAACa,GAAD,CAAWC,SAAU8L,EAAS9M,EAAG,EAAGC,EAAG,SC9B/C,IAAMpC,GAAYC,aAAW,CAC3BC,KAAM,CACJqP,SAAU,IACVC,OAAQ,YAIG,SAASC,KACtB,IAAM5O,EAAUb,KAChB,OACE,sBAAKiB,UAAWJ,EAAQX,KAAxB,UACE,cAACyB,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,SACE,cAACiE,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,MAEjE,cAACT,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,SACE,cAACiE,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,MAEjE,cAACT,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,SACE,cAACiE,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,MAEhE,cAACT,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,SACE,cAACiE,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,MAEhE,eAACT,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,UACE,cAACiE,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,IAC/D,cAAC2D,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,IAC/D,cAAC2D,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,IAC9D,cAAC2D,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,OAEhE,eAACT,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,UACE,cAACiE,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,KAC/D,cAAC2D,GAAD,CAAad,YAAY,QAAQ3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,IAC/D,cAAC2D,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,EAAGC,EAAG,IAC9D,cAAC2D,GAAD,CAAad,YAAY,OAAO3D,KAAM,GAAIwB,KAAK,MAAMX,EAAG,GAAIC,EAAG,UClCxD,SAASsN,GAAT,GAA0D,IAA7CrN,EAA4C,EAA5CA,MAAOS,EAAqC,EAArCA,KAAMX,EAA+B,EAA/BA,EAAGC,EAA4B,EAA5BA,EAAGgB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YACvD,EAAgCvC,WAAe,IAA/C,mBAAOqC,EAAP,KAAiBuB,EAAjB,KAgBA,OAdA5D,aAAgB,WAEd,IADA,IAAMkJ,EAAe,GACZ7F,EAAI,EAAGA,EAAI9B,EAAO8B,IACzB6F,EAAajF,KAAK,CAAEjC,KAAMA,EAAMX,EAAGgC,EAAG/B,EAAG+B,IACzC6F,EAAajF,KAAK,CAAEjC,KAAMA,EAAMX,EAAGE,EAAQ8B,EAAI,EAAG/B,EAAG+B,IAEvDO,EACEsF,EAAapM,QACX,SAAC2F,EAAQoM,EAAOC,GAAhB,OACED,GAASC,EAAIC,WAAU,SAAC/K,GAAD,OAAOvB,EAAOpB,GAAK2C,EAAE3C,GAAKoB,EAAOnB,GAAK0C,EAAE1C,WAGpE,CAACC,IAGF,cAACa,GAAD,CACEC,SAAUA,EACVhB,EAAGA,EACHC,EAAGA,EACHgB,SAAUA,EACVC,YAAaA,ICtBJ,SAASyM,KACtB,MAAwBhP,YAAe,GAAvC,mBAAOiP,EAAP,KAAaC,EAAb,KACA,EAAwBlP,YAAe,GAAvC,mBAAOmP,EAAP,KAAaC,EAAb,KACA,EAAwBpP,YAAe,GAAvC,mBAAOqP,EAAP,KAAaC,EAAb,KACA,EAAwBtP,YAAe,GAAvC,mBAAOuP,EAAP,KAAaC,EAAb,KACA,EAAwBxP,YAAe,GAAvC,mBAAOyP,EAAP,KAAaC,EAAb,KACA,EAAwB1P,YAAe,GAAvC,mBAAO2P,EAAP,KAAaC,EAAb,KACA,OACE,eAAC/O,GAAD,CAAQE,UAAQ,EAACD,SAAU,CAAC,GAAI,IAAKE,UAAU,QAA/C,UACE,cAAC4N,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,EACHC,EAAG,EACHgB,SAAU2M,EACV1M,YAAa2M,IAEf,cAACN,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,EACHC,EAAG,EACHgB,SAAU6M,EACV5M,YAAa6M,IAEf,cAACR,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,GACHC,EAAG,EACHgB,SAAU+M,EACV9M,YAAa+M,IAGf,cAACV,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,EACHC,EAAG,GACHgB,SAAUiN,EACVhN,YAAaiN,IAEf,cAACZ,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,EACHC,EAAG,GACHgB,SAAUmN,EACVlN,YAAamN,IAEf,cAACd,GAAD,CACErN,MAAO,EACPS,KAAK,MACLX,EAAG,GACHC,EAAG,GACHgB,SAAUqN,EACVpN,YAAaqN,OCxCrB,IAAMC,GAAO,CACX,CACEC,IAAK,yBACLC,MAAO,kBACPC,UAAW,cAAC5E,GAAD,KAEb,CACE0E,IAAK,qBACLC,MAAO,cACPC,UAAW,cAACpE,GAAD,KAEb,CAAEkE,IAAK,oBAAqBC,MAAO,aAAcC,UAAW,cAACnE,GAAD,KAC5D,CAAEiE,IAAK,mBAAoBC,MAAO,YAAaC,UAAW,cAACjE,GAAD,KAC1D,CAAE+D,IAAK,mBAAoBC,MAAO,YAAaC,UAAW,cAAC3D,GAAD,KAC1D,CACEyD,IAAK,qBACLC,MAAO,cACPC,UAAW,cAACtD,GAAD,KAEb,CAAEoD,IAAK,mBAAoBC,MAAO,YAAaC,UAAW,cAAC7C,GAAD,KAC1D,CAAE2C,IAAK,mBAAoBC,MAAO,YAAaC,UAAW,cAACtC,GAAD,KAC1D,CACEoC,IAAK,sBACLC,MAAO,oBACPC,UAAW,cAAC,GAAD,KAEb,CACEF,IAAK,uBACLC,MAAO,gBACPC,UAAW,cAACjC,GAAD,KAEb,CACE+B,IAAK,sBACLC,MAAO,eACPC,UAAW,cAAChC,GAAD,CAAazM,MAAO,MAEjC,CACEuO,IAAK,uBACLC,MAAO,sBACPC,UAAW,cAACrB,GAAD,KAEb,CACEmB,IAAK,sBACLC,MAAO,eACPC,UAAW,cAAChB,GAAD,MAIT9P,GAAYC,aAAW,CAC3B8Q,WAAY,CACVxB,SAAU,IACVC,OAAQ,YAIG,SAASwB,KACtB,IAAMnQ,EAAUb,KAEhB,OACE,iCACE,eAAC,IAAD,CAAOiR,KAAK,SAASC,OAAK,EAA1B,UACE,uCACA,8BACE,6BACGP,GAAKrN,KAAI,SAAC6N,GAAD,OACR,6BACE,cAAC,IAAD,CAAMC,GAAID,EAAKP,IAAf,SAAqBO,EAAKN,SADnBM,EAAKP,eAOrBD,GAAKrN,KAAI,SAAC6N,GAAD,OACR,eAAC,IAAD,CAAOF,KAAME,EAAKP,IAAlB,UACE,cAAC,IAAD,CAAMQ,GAAG,SAAT,kBACA,cAACxQ,GAAD,IACA,cAACmL,GAAD,IACA,qBAAK9K,UAAWJ,EAAQkQ,WAAxB,SAAqCI,EAAKL,cAJhBK,EAAKP,W,wBCxFnC5Q,GAAYC,aAAW,CAC3BoR,SAAU,CACR/Q,QAAS,OACTgR,aAAc,IAEhBC,KAAM,CACJC,YAAa,MAIF,SAASC,KACtB,IAAM5Q,EAAUb,KAChB,EAAwBc,WAAe,IAAvC,mBAAOQ,EAAP,KAAaoQ,EAAb,KACA,EAAwB5Q,WAAe,MAAvC,mBAAO6Q,EAAP,KAAaC,EAAb,KACA,EAAgC9Q,WAAe,IAA/C,mBAAOqC,EAAP,KAAiBuB,EAAjB,KAyBA,OAvBA5D,aAAgB,WAEd,IADA,IAAM+Q,EAAO,GACJ1P,EAAI,EAAGA,EAAIb,EAAMa,IACxB,IAAK,IAAIC,EAAI,EAAGA,EAAId,EAAMc,IACxByP,EAAK9M,KAAK,CAAEjC,KAAM,cAAeX,IAAGC,MAGxCsC,EAAYmN,KACX,CAACvQ,IAgBF,gCACE,sBAAKL,UAAWJ,EAAQwQ,SAAxB,UACE,sBACES,YAAU,EACVC,aAAa,MACbC,SAnBR,SAAuB/K,GACrBA,EAAEgL,iBACFP,EAAQQ,OAAOP,KAkBT1Q,UAAWJ,EAAQ0Q,KAJrB,SAME,cAACY,GAAA,EAAD,CACEjQ,GAAG,YACHkQ,MAAM,YACN9Q,KAAK,QACL+Q,QAAQ,WACRjM,MAAOuL,EACPW,SAxBV,SAAsBrL,GACpB,IAAMsL,EAAML,OAAOjL,EAAEuL,OAAOpM,QACN,IAAlBa,EAAEuL,OAAOpM,OAAgBmM,EAAM,GAAKA,EAAM,KAAKX,EAAQ3K,EAAEuL,OAAOpM,QAuB5DnJ,KAAK,aAGT,cAACwV,GAAA,EAAD,CAAQJ,QAAQ,WAAW3R,MAAM,YAAYc,QAvBnD,SAAsByF,GACpBvC,EAAYvB,EAASG,KAAI,SAACC,GAAD,mBAAC,eAAiBA,GAAlB,IAA0BT,KAAM,qBAsBrD,sBAKF,cAACnB,GAAD,CAAQC,SAAU,CAACN,EAAMA,GAAOQ,UAAU,UAAUD,UAAQ,EAA5D,SACGsB,GAAY,cAACD,GAAD,CAAWC,SAAUA,EAAUhB,EAAG,EAAGC,EAAG,SC3D7D,IAAMuO,GAAO,CACX,CACEC,IAAK,gBACLC,MAAO,yBACPC,UAAW,cAAC7F,GAAD,KAEb,CACE2F,IAAK,iBACLC,MAAO,gBACPC,UAAW,cAACvF,GAAD,KAEb,CACEqF,IAAK,aACLC,MAAO,YACPC,UAAW,cAACW,GAAD,MAITzR,GAAYC,aAAW,CAC3B8Q,WAAY,CACVxB,SAAU,IACVC,OAAQ,UAEVkD,SAAU,CACRpS,QAAS,kBAIE,SAASqS,KACtB,IAAM9R,EAAUb,KAEhB,OACE,iCACE,eAAC,IAAD,CAAOiR,KAAK,IAAIC,OAAK,EAArB,UACE,yGACA,8BACE,+BACE,6BACE,cAAC,IAAD,CAAME,GAAI,SAAV,qBAEDT,GAAKrN,KAAI,SAAC6N,GAAD,OACR,6BACE,cAAC,IAAD,CAAMC,GAAID,EAAKP,IAAf,SAAqBO,EAAKN,SADnBM,EAAKP,gBAOtB,cAAC,IAAD,CAAOK,KAAM,SAAb,SACE,cAACD,GAAD,MAEDL,GAAKrN,KAAI,SAAC6N,GAAD,OACR,eAAC,IAAD,CAAOF,KAAME,EAAKP,IAAlB,UACE,cAAC,IAAD,CAAMQ,GAAG,IAAInQ,UAAWJ,EAAQ6R,SAAhC,kBAGA,cAAC9R,GAAD,IACA,cAACmL,GAAD,IACA,qBAAK9K,UAAWJ,EAAQkQ,WAAxB,SAAqCI,EAAKL,cANhBK,EAAKP,WCnD1B,SAASgC,KACtB,MAAoC9R,WAAehE,GAAnD,mBAAO4C,EAAP,KAAmBC,EAAnB,KACA,EAA4CmB,YAAe,GAA3D,mBAAOlB,EAAP,KAAuBC,EAAvB,KAEA,OACE,qBAAKoB,UAAU,MAAf,SACE,cAAC,IAAD,CAAQ4R,SAAUC,iBAAlB,SACE,cAAChT,EAAWiT,SAAZ,CACE3M,MAAK,2BACA5G,GADA,IAEHE,aACAC,gBACAC,iBACAC,sBANJ,SASE,cAAC8S,GAAD,UAnBVvU,IAAe+I,IAAIf,MAAQ,IAC3BhI,IAAe0J,QCJf,IAAMkL,GAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACR,GAAD,MAEFI,M","file":"static/js/main.9d08a343.chunk.js","sourcesContent":["export const colors = {\n  darkGray: \"#1f1300\",\n  gray: \"#2A3338\",\n  offWhite: \"#f2f7f2\",\n  darkRed: \"#7d2d26\",\n  red: \"#CE675E\",\n  lightRed: \"#dc928b\",\n  darkOrange: \"#c26100\",\n  orange: \"#FF8811\",\n  lightOrange: \"#ffa54c\",\n  darkYellow: \"#edb214\",\n  yellow: \"#F4D06F\",\n  lightYellow: \"#f8e2a6\",\n  darkBlue: \"#1446a0\",\n  blue: \"#1b5dd4\",\n  lightBlue: \"#6595ec\",\n  darkGreen: \"#0A5A3F\",\n  green: \"#108f64\",\n  lightGreen: \"#16c489\"\n};\n","import { createContext } from \"react\";\nimport * as Tone from \"tone\";\nimport { colors } from \"./theme/colors\";\n\n// GLOBAL TONEJS RESOURCES\n// DEFAULTS\nconst defaultFMSettings = {\n  oscillator: {\n    type: \"sine\"\n  },\n  modulationIndex: 20,\n  modulation: {\n    type: \"sawtooth\"\n  },\n  envelope: {\n    attack: 0.01,\n    decay: 0.2,\n    sustain: 0.2,\n    release: 2,\n    attackCurve: \"sine\"\n  },\n  volume: -9\n};\nconst defaultMonoSettings = {\n  oscillator: { type: \"sawtooth\" },\n  envelope: { attack: 0.001, decay: 0.1, release: 0.5, sustain: 0.5 },\n  filter: {\n    Q: 1,\n    rolloff: -12,\n    type: \"lowpass\"\n  },\n  filterEnvelope: {\n    attack: 0.4,\n    baseFrequency: 150,\n    decay: 0.2,\n    exponent: 2,\n    octaves: 3,\n    release: 2,\n    sustain: 0.5\n  },\n  volume: -12\n};\n\n// EFFECTS\nconst pitchShift = new Tone.PitchShift();\nconst delay = new Tone.FeedbackDelay({\n  maxDelay: 2,\n  feedback: 0.5,\n  wet: 0.2\n});\nconst reverb = new Tone.Freeverb();\nconst volume = new Tone.Volume(-6).toDestination();\n\n// SYNTHS\nconst neQuadrantSynth = new Tone.FMSynth(defaultFMSettings).chain(\n  pitchShift,\n  delay,\n  reverb,\n  volume\n);\nconst seQuadrantSynth = new Tone.FMSynth({\n  ...defaultFMSettings,\n  volume: 0\n}).chain(pitchShift, delay, reverb, volume);\nconst swQuadrantSynth = new Tone.FMSynth(defaultFMSettings).chain(\n  pitchShift,\n  delay,\n  reverb,\n  volume\n);\nconst nwQuadrantSynth = new Tone.FMSynth(defaultFMSettings).chain(\n  pitchShift,\n  delay,\n  reverb,\n  volume\n);\n\nconst ascLineSynth = new Tone.MonoSynth({\n  ...defaultMonoSettings,\n  volume: -6\n}).chain(pitchShift, delay, reverb, volume);\nconst descLineSynth = new Tone.MonoSynth({\n  ...defaultMonoSettings,\n  volume: -6\n}).chain(pitchShift, delay, reverb, volume);\nconst verticalLineSynth = new Tone.MonoSynth(defaultMonoSettings).chain(\n  pitchShift,\n  delay,\n  reverb,\n  volume\n);\nconst horizontalLineSynth = new Tone.MonoSynth(defaultMonoSettings).chain(\n  pitchShift,\n  delay,\n  reverb,\n  volume\n);\n\nconst outerDiamondGain = new Tone.Gain(-12, \"decibels\").connect(\n  Tone.Destination\n);\n\nconst outerDiamondDelay = new Tone.FeedbackDelay({\n  maxDelay: 2,\n  feedback: 0.5,\n  wet: 0.2\n}).connect(outerDiamondGain);\n\nconst outerDiamondSynth = new Tone.FMSynth({ volume: -9 }).chain(\n  outerDiamondDelay,\n  pitchShift,\n  reverb,\n  volume\n);\n\nexport const defaultAppContext = {\n  cellSize: 24,\n  selectFill: colors.blue,\n  setSelectFill: () => {},\n  isAudioStarted: false,\n  setIsAudioStarted: () => {},\n  pitchShift,\n  delay,\n  reverb,\n  volume,\n  neQuadrantSynth,\n  seQuadrantSynth,\n  swQuadrantSynth,\n  nwQuadrantSynth,\n  ascLineSynth,\n  descLineSynth,\n  verticalLineSynth,\n  horizontalLineSynth,\n  outerDiamondSynth,\n  outerDiamondDelay\n};\n\nexport const AppContext = createContext(defaultAppContext);\n","import * as React from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Palette } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { AppContext } from \"../app-context\";\nimport { CompactPicker } from \"react-color\";\nimport { colors } from \"../theme/colors\";\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    bottom: 0,\n    right: 0,\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"flex-end\",\n    padding: 5,\n    \"& .MuiIconButton-root\": {\n      color: \"#333\"\n    }\n  }\n});\n\nconst customColorOptions = [\n  \"#000000\",\n  colors.darkGray,\n  colors.gray,\n  colors.offWhite,\n  \"#FFFFFF\",\n  colors.darkRed,\n  colors.red,\n  colors.lightRed,\n  colors.darkOrange,\n  colors.orange,\n  colors.lightOrange,\n  colors.darkYellow,\n  colors.yellow,\n  colors.lightYellow,\n  colors.darkGreen,\n  colors.green,\n  colors.lightGreen,\n  colors.darkBlue,\n  colors.blue,\n  colors.lightBlue\n];\n\nexport default function ColorPicker() {\n  const classes = useStyles();\n  const { cellSize, selectFill, setSelectFill } = React.useContext(AppContext);\n  const [colorPickerOpen, setColorPickerOpen] = React.useState(false);\n\n  function handleColorChange(color) {\n    setSelectFill(color.hex);\n    setColorPickerOpen(false);\n  }\n\n  return (\n    <div className={classes.root}>\n      <div style={{ display: colorPickerOpen ? \"block\" : \"none\" }}>\n        <CompactPicker\n          color={selectFill}\n          colors={customColorOptions}\n          onChangeComplete={handleColorChange}\n        />\n      </div>\n      <IconButton\n        size=\"small\"\n        fontSize=\"large\"\n        onClick={() => setColorPickerOpen(!colorPickerOpen)}\n      >\n        <Palette />\n      </IconButton>\n    </div>\n  );\n}\n","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\nimport { AppContext } from \"../app-context\";\n\nconst useStyles = makeStyles({\n  root: {\n    backgroundColor: ({ backgroundColor }) => backgroundColor\n  }\n});\n\n/** SVG Element with optional background color to fill the area with squares */\nexport default function Fabric({\n  gridSize,\n  backgroundColor,\n  showGrid,\n  gridColor,\n  children\n}) {\n  const classes = useStyles({ backgroundColor });\n  const { cellSize } = React.useContext(AppContext);\n\n  return (\n    <svg\n      className={classes.root}\n      viewBox={`0 0 ${gridSize[0] * cellSize + 1} ${\n        gridSize[1] * cellSize + 1\n      }`}\n    >\n      <defs>\n        <pattern\n          id=\"fabric-grid\"\n          x=\"0\"\n          y=\"0\"\n          width={cellSize}\n          height={cellSize}\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <line\n            x1=\"0\"\n            y1=\"0\"\n            x2=\"100%\"\n            y2=\"0\"\n            stroke={gridColor ? gridColor : \"white\"}\n            strokeWidth={2}\n          />\n          <line\n            x1=\"0\"\n            y1=\"0\"\n            x2=\"0\"\n            y2=\"100%\"\n            stroke={gridColor ? gridColor : \"white\"}\n            strokeWidth={2}\n          />\n        </pattern>\n      </defs>\n      {showGrid && <rect width=\"100%\" height=\"100%\" fill=\"url(#fabric-grid)\" />}\n      {children}\n    </svg>\n  );\n}\n","import React from \"react\";\nimport { AppContext } from \"../app-context\";\n/**\n * <g> with cellSize based translate\n * @param {Object} props\n */\nexport default function G({ x, y, children, ...rest }) {\n  const { cellSize } = React.useContext(AppContext);\n  return (\n    <g\n      transform={`translate(${x ? x * cellSize : 0}, ${y ? y * cellSize : 0})`}\n      {...rest}\n    >\n      {children}\n    </g>\n  );\n}\n","import * as React from \"react\";\nimport { AppContext } from \"../../app-context\";\nimport G from \"../G\";\n\nexport default function ShapeBase({ stitches, x, y, selected, setSelected }) {\n  const { cellSize, selectFill } = React.useContext(AppContext);\n  const [stitchState, setStitchState] = React.useState(\n    stitches.map((stitch) => ({\n      ...stitch,\n      selected: false,\n      originalFill: stitch.fill\n    }))\n  );\n\n  React.useEffect(() => {\n    setStitchState(\n      stitches.map((stitch) => ({\n        ...stitch,\n        selected: false,\n        originalFill: stitch.fill\n      }))\n    );\n  }, [stitches]);\n\n  function shapeClickHandler(event) {\n    if (!event.shiftKey && setSelected && selected != null) {\n      setSelected(!selected);\n    }\n  }\n\n  function stitchClickHandler(event) {\n    if (event.shiftKey) {\n      const newStitches = [...stitchState];\n      const cur = newStitches[event.currentTarget.dataset.id];\n      cur.selected = !cur.selected;\n      cur.fill = cur.selected ? selectFill : cur.originalFill;\n      setStitchState(newStitches);\n    }\n  }\n\n  return (\n    <G x={x} y={y} fillOpacity={selected ? 0.5 : 1} onClick={shapeClickHandler}>\n      {stitchState.map((stitch, i) => (\n        <rect\n          width={cellSize}\n          height={cellSize}\n          fill={stitch.fill}\n          x={stitch.x * cellSize + 0.5}\n          y={stitch.y * cellSize + 0.5}\n          onClick={stitchClickHandler}\n          data-id={i}\n          key={`stitch-${i}`}\n        />\n      ))}\n    </G>\n  );\n}\n","import * as React from \"react\";\nimport G from \"../G\";\nimport ShapeBase from \"./ShapeBase\";\n\nexport default function Diamond({\n  diameter,\n  stroke,\n  fill,\n  filled,\n  cx,\n  cy,\n  selected,\n  setSelected\n}) {\n  const [stitches, setStitches] = React.useState();\n  const [realDiameter, setRealDiameter] = React.useState(\n    diameter % 2 === 0 ? diameter - 1 : diameter\n  );\n\n  React.useEffect(() => {\n    setRealDiameter(diameter % 2 === 0 ? diameter - 1 : diameter);\n  }, [diameter]);\n\n  React.useEffect(() => {\n    const mid = (realDiameter - 1) / 2;\n    const s = [];\n    for (let x = 0; x < realDiameter; x++) {\n      for (let y = 0; y < realDiameter; y++) {\n        if (\n          x === mid - y ||\n          x === mid + y ||\n          x === realDiameter - y + mid - 1 ||\n          x === y + mid + 1 - realDiameter\n        ) {\n          s.push({ fill: stroke, x, y });\n        }\n      }\n    }\n    if (filled) {\n      for (let x = 0; x < realDiameter; x++) {\n        for (let y = 0; y < realDiameter; y++) {\n          if (\n            x >= mid - y &&\n            x <= mid + y &&\n            x >= y + mid + 1 - realDiameter &&\n            x <= realDiameter - y + mid - 1\n          ) {\n            s.push({ fill, x, y });\n          }\n        }\n      }\n    }\n    setStitches(s);\n  }, [diameter, stroke, fill, filled]);\n\n  return (\n    <G x={cx} y={cy}>\n      {stitches && (\n        <ShapeBase\n          stitches={stitches}\n          x={-(realDiameter - 1) / 2}\n          y={-(realDiameter - 1) / 2}\n          selected={selected}\n          setSelected={setSelected}\n        />\n      )}\n    </G>\n  );\n}\n","import React from \"react\";\nimport ShapeBase from \"./ShapeBase\";\n\nfunction generateRightStitches(orientation, sidelength, fill) {\n  const tmp = [];\n  switch (orientation) {\n    case \"NE\":\n      for (let y = 0; y < sidelength; y++) {\n        for (let x = 0; x < y + 1; x++) {\n          tmp.push({ fill, x, y });\n        }\n      }\n      return tmp;\n    case \"SE\":\n      for (let y = 0; y < sidelength; y++) {\n        for (let x = 0; x < sidelength - y; x++) {\n          tmp.push({ fill, x, y });\n        }\n      }\n      return tmp;\n    case \"SW\":\n      for (let y = 0; y < sidelength; y++) {\n        for (let x = y; x < sidelength; x++) {\n          tmp.push({ fill, x, y });\n        }\n      }\n      return tmp;\n    case \"NW\":\n      for (let y = 0; y < sidelength; y++) {\n        for (let x = sidelength - y - 1; x < sidelength; x++) {\n          tmp.push({ fill, x, y });\n        }\n      }\n      return tmp;\n    default:\n      return [];\n  }\n}\n\nexport function RightTriangle({\n  orientation,\n  sideLength,\n  fill,\n  x,\n  y,\n  selected,\n  setSelected\n}) {\n  const [stitches, setStitches] = React.useState(\n    generateRightStitches(orientation, sideLength, fill)\n  );\n  React.useEffect(() => {\n    setStitches(generateRightStitches(orientation, sideLength, fill));\n  }, [orientation, sideLength, fill]);\n\n  return (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  );\n}\n\nfunction generateIsoStitches(orientation, baseWidth, fill) {\n  const altitude = Math.ceil(baseWidth / 2);\n  const center = altitude - 1;\n  const tmp = [];\n  switch (orientation) {\n    case \"north\":\n      for (let y = 0, n = 1; y < altitude; y++, n += 2) {\n        for (let i = 0; i < n; i++) {\n          tmp.push({ fill, x: center - y + i, y });\n        }\n      }\n      return tmp;\n    case \"south\":\n      for (let y = 0, n = baseWidth; y < altitude; y++, n -= 2) {\n        for (let i = 0; i < n; i++) {\n          tmp.push({ fill, x: y + i, y });\n        }\n      }\n      return tmp;\n    case \"east\":\n      for (let x = 0, n = baseWidth; x < altitude; x++, n -= 2) {\n        for (let i = 0; i < n; i++) {\n          tmp.push({ fill, x, y: x + i });\n        }\n      }\n      return tmp;\n    case \"west\":\n      for (let x = 0, n = 1; x < altitude; x++, n += 2) {\n        for (let i = 0; i < n; i++) {\n          tmp.push({ fill, x, y: center - x + i });\n        }\n      }\n      return tmp;\n    default:\n      return [];\n  }\n}\n\nexport function IsoTriangle({\n  orientation,\n  size,\n  fill,\n  x,\n  y,\n  selected,\n  setSelected\n}) {\n  const [baseWidth, setBaseWidth] = React.useState(\n    size % 2 === 0 ? size - 1 : size\n  );\n  const [stitches, setStitches] = React.useState(\n    generateIsoStitches(orientation, baseWidth, fill)\n  );\n  React.useEffect(() => {\n    setBaseWidth(size % 2 === 0 ? size - 1 : size);\n  }, [size]);\n  React.useEffect(() => {\n    setStitches(generateIsoStitches(orientation, baseWidth, fill));\n  }, [orientation, baseWidth, fill]);\n\n  return (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  );\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport * as Tone from \"tone\";\nimport { AppContext } from \"../../app-context\";\nimport { RightTriangle } from \"../../components/shapes/Triangles\";\nimport { colors } from \"../../theme/colors\";\n\nconst useStyles = makeStyles({\n  triangle: {\n    opacity: 1,\n    \"&.clicked\": {\n      opacity: 0.5\n    }\n  }\n});\n\nexport default function OuterTriangles() {\n  const { volume } = React.useContext(AppContext);\n  const [vol, setVol] = React.useState(volume.volume.value);\n  const classes = useStyles();\n  const topRightEl = React.useRef(null);\n  const topLeftEl = React.useRef(null);\n  const bottomRightEl = React.useRef(null);\n  const bottomLeftEl = React.useRef(null);\n\n  React.useEffect(() => {\n    volume.volume.rampTo(vol, 0.5);\n  }, [vol]);\n\n  function blink(el) {\n    el.classList.toggle(\"clicked\");\n    setTimeout(() => el.classList.toggle(\"clicked\"), 50);\n  }\n\n  function tempoDown(e) {\n    if (!e.shiftKey) {\n      blink(topLeftEl.current);\n    }\n    Tone.Transport.bpm.value = Tone.Transport.bpm.value - 5;\n  }\n\n  function tempoUp(e) {\n    if (!e.shiftKey) {\n      blink(topRightEl.current);\n    }\n    Tone.Transport.bpm.value = Tone.Transport.bpm.value + 5;\n  }\n\n  function volumeUp(e) {\n    if (!e.shiftKey) {\n      blink(bottomRightEl.current);\n    }\n    if (vol < -4) {\n      setVol(vol + 2);\n    }\n  }\n\n  function volumeDown(e) {\n    if (!e.shiftKey) {\n      blink(bottomLeftEl.current);\n    }\n    setVol(vol - 2);\n  }\n\n  return (\n    <g>\n      <g onClick={tempoDown} className={classes.triangle} ref={topLeftEl}>\n        <RightTriangle\n          orientation=\"SE\"\n          sideLength={16}\n          fill={colors.gray}\n          x={0}\n          y={0}\n        />\n      </g>\n      <g onClick={tempoUp} className={classes.triangle} ref={topRightEl}>\n        <RightTriangle\n          orientation=\"SW\"\n          sideLength={16}\n          fill={colors.gray}\n          x={21}\n          y={0}\n        />\n      </g>\n      <g onClick={volumeUp} className={classes.triangle} ref={bottomRightEl}>\n        <RightTriangle\n          orientation=\"NW\"\n          sideLength={16}\n          fill={colors.gray}\n          x={21}\n          y={21}\n        />\n      </g>\n      <g onClick={volumeDown} className={classes.triangle} ref={bottomLeftEl}>\n        <RightTriangle\n          orientation=\"NE\"\n          sideLength={16}\n          fill={colors.gray}\n          x={0}\n          y={21}\n        />\n      </g>\n    </g>\n  );\n}\n","import * as React from \"react\";\nimport * as Tone from \"tone\";\nimport { AppContext } from \"../../app-context\";\nimport { IsoTriangle } from \"../../components/shapes/Triangles\";\nimport { colors } from \"../../theme/colors\";\n\nfunction TriangleGroup({ patternContent, patternDirection, triangles, synth }) {\n  const [selected, setSelected] = React.useState(false);\n\n  const pattern = React.useRef(\n    new Tone.Pattern(\n      function (time, note) {\n        synth.triggerAttackRelease(note, \"16n\", time);\n      },\n      patternContent,\n      patternDirection\n    )\n  );\n\n  React.useEffect(() => {\n    if (selected) {\n      pattern.current.start(0);\n    } else {\n      pattern.current.stop(0);\n    }\n    return () => pattern.current.stop(0);\n  }, [selected]);\n\n  return triangles.map((triangle) => (\n    <IsoTriangle\n      orientation={triangle.orientation}\n      size={triangle.size}\n      fill={colors.red}\n      x={triangle.x}\n      y={triangle.y}\n      selected={selected}\n      setSelected={setSelected}\n      key={`tri-${triangle.orientation}-${triangle.x}-${triangle.y}`}\n    />\n  ));\n}\n\nexport default function InnerTriangles() {\n  const { nwQuadrantSynth, neQuadrantSynth, swQuadrantSynth, seQuadrantSynth } =\n    React.useContext(AppContext);\n  return (\n    <g>\n      <TriangleGroup\n        patternContent={[\"D4\", \"F4\", \"D4\"]}\n        patternDirection=\"up\"\n        triangles={[\n          { orientation: \"north\", size: 9, x: 8, y: 13 },\n          { orientation: \"west\", size: 9, x: 13, y: 8 }\n        ]}\n        synth={nwQuadrantSynth}\n      />\n      <TriangleGroup\n        patternContent={[\"D4\", \"E4\", \"Eb4\", \"E4\", \"D4\"]}\n        patternDirection=\"up\"\n        triangles={[\n          { orientation: \"east\", size: 9, x: 19, y: 8 },\n          { orientation: \"north\", size: 9, x: 20, y: 13 }\n        ]}\n        synth={neQuadrantSynth}\n      />\n      <TriangleGroup\n        patternContent={[\"D4\", \"Eb4\", \"D4\", \"Eb4\", \"D4\", \"Eb4\", \"D4\"]}\n        patternDirection=\"down\"\n        triangles={[\n          { orientation: \"south\", size: 9, x: 8, y: 19 },\n          { orientation: \"west\", size: 9, x: 13, y: 20 }\n        ]}\n        synth={swQuadrantSynth}\n      />\n      <TriangleGroup\n        patternContent={[\"D2\"]}\n        patternDirection=\"down\"\n        triangles={[\n          { orientation: \"east\", size: 9, x: 19, y: 20 },\n          { orientation: \"south\", size: 9, x: 20, y: 19 }\n        ]}\n        synth={seQuadrantSynth}\n      />\n    </g>\n  );\n}\n","import * as React from \"react\";\nimport * as Tone from \"tone\";\nimport { AppContext } from \"../../app-context\";\nimport Diamond from \"../../components/shapes/Diamond\";\nimport { colors } from \"../../theme/colors\";\n\nexport default function OuterDiamonds() {\n  const { outerDiamondSynth } = React.useContext(AppContext);\n  const [selectedGreen, setSelectedGreen] = React.useState(false);\n  const { outerDiamondDelay } = React.useContext(AppContext);\n\n  const sequence = new Tone.Sequence(\n    (time, note) => {\n      outerDiamondSynth.triggerAttackRelease(note, \"16t\", time);\n    },\n    [\"D4\", [null, \"C3\"], [\"F4\", \"G4\", \"A4\", \"458\"]],\n    \"4n\"\n  );\n  const delaySequence = new Tone.Sequence(\n    (time, delayTime) => {\n      outerDiamondDelay.delayTime.rampTo(delayTime, 0.25, time);\n    },\n    [\"4n\", \"8n\", \"16n\"],\n    \"1n\"\n  );\n\n  React.useEffect(() => {\n    if (selectedGreen) {\n      sequence.start(0);\n      delaySequence.start(10);\n    } else {\n      sequence.stop(0);\n      delaySequence.stop(0);\n    }\n    return () => sequence.stop(0);\n  }, [selectedGreen]);\n  return (\n    <g>\n      <Diamond\n        diameter={37}\n        cx={18}\n        cy={18}\n        stroke={colors.darkGreen}\n        selected={selectedGreen}\n        setSelected={setSelectedGreen}\n      />\n      <Diamond\n        diameter={35}\n        cx={18}\n        cy={18}\n        stroke={colors.darkGreen}\n        selected={selectedGreen}\n        setSelected={setSelectedGreen}\n      />\n      <Diamond\n        diameter={33}\n        cx={18}\n        cy={18}\n        stroke={colors.darkGreen}\n        selected={selectedGreen}\n        setSelected={setSelectedGreen}\n      />\n      <Diamond\n        diameter={31}\n        cx={18}\n        cy={18}\n        stroke={colors.darkGreen}\n        selected={selectedGreen}\n        setSelected={setSelectedGreen}\n      />\n      <Diamond diameter={27} cx={18} cy={18} stroke={colors.darkGray} />\n    </g>\n  );\n}\n","import * as React from \"react\";\nimport { AppContext } from \"../app-context\";\n\nexport default function Stitch({ fill, x, y, id, selected, handleClick }) {\n  const [currentFill, setCurrentFill] = React.useState(fill);\n  const { cellSize, selectFill } = React.useContext(AppContext);\n\n  React.useEffect(() => {\n    if (selected) {\n      setCurrentFill(selectFill);\n    } else {\n      setCurrentFill(fill);\n    }\n  }, [selected]);\n\n  return (\n    <rect\n      width={cellSize}\n      height={cellSize}\n      fill={currentFill}\n      x={x * cellSize + 0.5}\n      y={y * cellSize + 0.5}\n      onClick={handleClick}\n      data-id={id}\n    />\n  );\n}\n","import * as React from \"react\";\nimport G from \"../G\";\nimport Stitch from \"../Stitch\";\n\nexport default function Single({ fill, x, y, selected, setSelected }) {\n  const [stitchSelected, setStitchSelected] = React.useState(false);\n  function clickHandler(event) {\n    if (!event.shiftKey && setSelected && selected != null) {\n      setSelected(!selected);\n    }\n  }\n\n  return (\n    <G fillOpacity={selected ? 0.5 : 1} onClick={clickHandler}>\n      <Stitch\n        fill={fill}\n        x={x}\n        y={y}\n        selected={stitchSelected}\n        handleClick={() => setStitchSelected(!stitchSelected)}\n      />\n    </G>\n  );\n}\n","import React from \"react\";\nimport ShapeBase from \"./ShapeBase\";\n\nexport default function Square({\n  width,\n  x,\n  y,\n  stroke,\n  fill,\n  selected,\n  setSelected\n}) {\n  const [stitches, setStitches] = React.useState([]);\n\n  React.useEffect(() => {\n    const tmp = [];\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < width; y++) {\n        if (x == 0 || x == width - 1 || y == 0 || y == width - 1) {\n          tmp.push({ fill: stroke, x, y });\n        } else {\n          fill && tmp.push({ fill, x, y });\n        }\n      }\n    }\n    setStitches(tmp);\n  }, [width, stroke, fill]);\n\n  return (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  );\n}\n","import * as React from \"react\";\nimport { AppContext } from \"../../app-context\";\nimport Diamond from \"../../components/shapes/Diamond\";\nimport Single from \"../../components/shapes/Single\";\nimport Square from \"../../components/shapes/Square\";\nimport { colors } from \"../../theme/colors\";\n\nfunction CornerStar({ cx, cy, selected, setSelected, clickHandler }) {\n  return (\n    <g onClick={clickHandler}>\n      <Diamond\n        diameter={5}\n        cx={cx}\n        cy={cy}\n        stroke={colors.gray}\n        fill={colors.gray}\n        filled\n        selected={selected}\n        setSelected={setSelected}\n      />\n      <Single\n        x={cx}\n        y={cy}\n        fill={colors.yellow}\n        selected={selected}\n        setSelected={setSelected}\n      />\n    </g>\n  );\n}\n\nexport default function CornerStars() {\n  const { pitchShift, delay, reverb } = React.useContext(AppContext);\n  const [selectedWest, setSelectedWest] = React.useState(false);\n  const [selectedEast, setSelectedEast] = React.useState(false);\n  const [selectedNorth, setSelectedNorth] = React.useState(false);\n  const [selectedSouth, setSelectedSouth] = React.useState(false);\n  const [currentPitchShift, setCurrentPitchShift] = React.useState(0);\n\n  function resetClickHandler() {\n    setCurrentPitchShift(0);\n    setSelectedWest(false);\n    setSelectedEast(false);\n  }\n\n  React.useEffect(() => {\n    delay.wet.value = selectedWest ? 0.2 : 0;\n  }, [selectedWest]);\n  React.useEffect(() => {\n    reverb.wet.value = selectedEast ? 1 : 0;\n  }, [selectedEast]);\n  function northClickHandler(e) {\n    if (!e.shiftKey) {\n      setCurrentPitchShift(currentPitchShift + 1);\n    }\n  }\n  function southClickHandler(e) {\n    if (!e.shiftKey) {\n      setCurrentPitchShift(currentPitchShift - 1);\n    }\n  }\n  React.useEffect(() => {\n    pitchShift.pitch = currentPitchShift;\n    if (currentPitchShift > 0) {\n      setSelectedNorth(true);\n      setSelectedSouth(false);\n    } else if (currentPitchShift < 0) {\n      setSelectedNorth(false);\n      setSelectedSouth(true);\n    } else {\n      setSelectedNorth(false);\n      setSelectedSouth(false);\n    }\n  }, [currentPitchShift]);\n\n  return (\n    <g>\n      <CornerStar\n        cx={7}\n        cy={18}\n        selected={selectedWest}\n        setSelected={setSelectedWest}\n      />\n      <CornerStar\n        cx={29}\n        cy={18}\n        selected={selectedEast}\n        setSelected={setSelectedEast}\n      />\n      <CornerStar\n        cx={18}\n        cy={7}\n        selected={selectedNorth}\n        setSelected={setSelectedNorth}\n        clickHandler={northClickHandler}\n      />\n      <CornerStar\n        cx={18}\n        cy={29}\n        selected={selectedSouth}\n        setSelected={setSelectedSouth}\n        clickHandler={southClickHandler}\n      />\n      <g onClick={resetClickHandler}>\n        <Square width={3} x={17} y={17} stroke={colors.yellow} />\n        <Single x={18} y={18} stroke={colors.gray} />\n      </g>\n    </g>\n  );\n}\n","import React from \"react\";\nimport ShapeBase from \"./ShapeBase\";\n\nexport default function Line({\n  length,\n  angle,\n  color,\n  x,\n  y,\n  selected,\n  setSelected\n}) {\n  const [stitches, setStitches] = React.useState();\n\n  React.useEffect(() => {\n    const tempStitches = [];\n    if (angle === \"vertical\") {\n      for (let i = 0; i < length; i++) {\n        tempStitches.push({ fill: color, x: 0, y: i });\n      }\n    } else if (angle === \"horizontal\") {\n      for (let i = 0; i < length; i++) {\n        tempStitches.push({ fill: color, x: i, y: 0 });\n      }\n    } else if (angle === \"diagonal-down\") {\n      for (let i = 0; i < length; i++) {\n        tempStitches.push({ fill: color, x: i, y: i });\n      }\n    } else if (angle === \"diagonal-up\") {\n      for (let i = 0; i < length; i++) {\n        tempStitches.push({ fill: color, x: i, y: length - i - 1 });\n      }\n    }\n    setStitches(tempStitches);\n  }, [length, angle, color]);\n\n  return stitches ? (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  ) : (\n    <g></g>\n  );\n}\n","import React from \"react\";\nimport * as Tone from \"tone\";\nimport { AppContext } from \"../../app-context\";\nimport Line from \"../../components/shapes/Line\";\nimport { colors } from \"../../theme/colors\";\n\nexport default function CenterStar() {\n  const {\n    ascLineSynth,\n    descLineSynth,\n    verticalLineSynth,\n    horizontalLineSynth\n  } = React.useContext(AppContext);\n  const patternUp = new Tone.Pattern(\n    function (time, note) {\n      ascLineSynth.triggerAttackRelease(note, 0.1, time);\n    },\n    [\"D4\", \"F4\", \"G4\", \"A4\", \"458\", \"C4\"],\n    \"up\"\n  );\n  var patternDown = new Tone.Pattern(\n    function (time, note) {\n      descLineSynth.triggerAttackRelease(note, 0.1, time);\n    },\n    [\"C4\", \"D4\", \"E4\", \"G4\", \"A4\", \"458\"],\n    \"down\"\n  );\n  var verticalPattern = new Tone.Pattern({\n    callback: function (time, note) {\n      verticalLineSynth.triggerAttackRelease(note, 0.8);\n    },\n    values: [\"D4\", \"F4\", \"G4\", \"458\"],\n    pattern: \"random\",\n    playbackRate: 0.25\n  });\n  var horizontalPattern = new Tone.Pattern({\n    callback: function (time, note) {\n      horizontalLineSynth.triggerAttackRelease(note, 0.8);\n    },\n    values: [\"D4\", \"F4\", \"G4\", \"458\"],\n    pattern: \"random\",\n    playbackRate: 0.25\n  });\n\n  const [horizontalSelected, setHorizontalSelected] = React.useState(false);\n  const [verticalSelected, setVerticalSelected] = React.useState(false);\n  const [downSelected, setDownSelected] = React.useState(false);\n  const [upSelected, setUpSelected] = React.useState(false);\n\n  React.useEffect(() => {\n    downSelected ? patternDown.start(0) : patternDown.stop(0);\n    return () => patternDown.stop(0);\n  }, [downSelected]);\n\n  React.useEffect(() => {\n    upSelected ? patternUp.start(0) : patternUp.stop(0);\n    return () => patternUp.stop(0);\n  }, [upSelected]);\n\n  React.useEffect(() => {\n    verticalSelected ? verticalPattern.start(0) : verticalPattern.stop(0);\n    return () => verticalPattern.stop(0);\n  }, [verticalSelected]);\n\n  React.useEffect(() => {\n    horizontalSelected ? horizontalPattern.start(0) : horizontalPattern.stop(0);\n    return () => horizontalPattern.stop(0);\n  }, [horizontalSelected]);\n  return (\n    <g>\n      <Line\n        length={17}\n        angle=\"horizontal\"\n        color={colors.orange}\n        x={10}\n        y={18}\n        selected={horizontalSelected}\n        setSelected={setHorizontalSelected}\n      />\n      <Line\n        length={17}\n        angle=\"vertical\"\n        color={colors.orange}\n        x={18}\n        y={10}\n        selected={verticalSelected}\n        setSelected={setVerticalSelected}\n      />\n      <Line\n        length={11}\n        angle=\"diagonal-down\"\n        color={colors.orange}\n        x={13}\n        y={13}\n        selected={downSelected}\n        setSelected={setDownSelected}\n      />\n      <Line\n        length={11}\n        angle=\"diagonal-up\"\n        color={colors.orange}\n        x={13}\n        y={13}\n        selected={upSelected}\n        setSelected={setUpSelected}\n      />\n    </g>\n  );\n}\n","import React from \"react\";\nimport Fabric from \"../components/Fabric\";\nimport Diamond from \"../components/shapes/Diamond\";\nimport { colors } from \"../theme/colors\";\nimport OuterTriangles from \"./star-interface/OuterTriangles\";\nimport InnerTriangles from \"./star-interface/InnerTriangles\";\nimport OuterDiamonds from \"./star-interface/OuterDiamonds\";\nimport CornerStars from \"./star-interface/CornerStars\";\nimport CenterStar from \"./star-interface/CenterStar\";\n\nexport default function StarDiamond() {\n  return (\n    <Fabric gridSize={[37, 37]}>\n      <OuterTriangles />\n      <OuterDiamonds />\n      <InnerTriangles />\n      <CenterStar />\n      <Diamond diameter={25} cx={18} cy={18} stroke={colors.orange} />\n      <CornerStars />\n    </Fabric>\n  );\n}\n","import React from \"react\";\nimport * as Tone from \"tone\";\nimport Fabric from \"../components/Fabric\";\nimport { RightTriangle } from \"../components/shapes/Triangles\";\n\nconst pitchShift = new Tone.PitchShift(5).toDestination();\nconst delay = new Tone.FeedbackDelay({\n  maxDelay: 2,\n  feedback: 0.8\n  //wet: 0.2\n}).toDestination();\nconst synthA = new Tone.FMSynth({\n  oscillator: {\n    type: \"sawtooth\"\n  },\n  modulationIndex: 11,\n  modulation: {\n    type: \"square\"\n  },\n  envelope: {\n    attack: 0.01,\n    decay: 0.2,\n    sustain: 0.2,\n    release: 2,\n    attackCurve: \"sine\"\n  }\n}).connect(delay);\nconst synthB = new Tone.AMSynth({ portamento: 0.05 }).connect(delay);\nconst synthC = new Tone.Synth({ portamento: 0.05 }).connect(delay);\n\nvar pattern1 = new Tone.Pattern(\n  function (time, note) {\n    synthA.triggerAttackRelease(note, 0.1);\n  },\n  [\"D4\", \"F4\", \"D4\"],\n  \"up\"\n);\n\nvar pattern2 = new Tone.Pattern(\n  function (time, note) {\n    synthA.triggerAttackRelease(note, 0.1);\n  },\n  [\"D4\", \"E4\", \"Eb4\", \"E4\", \"D4\"],\n  \"up\"\n);\n\nvar pattern3 = new Tone.Pattern(\n  function (time, note) {\n    synthA.triggerAttackRelease(note, 0.1);\n  },\n  [\"D4\", \"Eb4\", \"D4\", \"Eb4\", \"D4\", \"Eb4\", \"D4\"],\n  \"down\"\n);\n\nexport default function TriangleInD() {\n  React.useEffect(function play() {\n    pattern1.start(0).stop(3);\n    pattern2.start(3).stop(10);\n    pattern3.start(10).stop(15);\n\n    Tone.Transport.start(1);\n    Tone.Transport.stop(3);\n    Tone.Transport.start(3);\n    Tone.Transport.stop(10);\n    Tone.Transport.start(10);\n    Tone.Transport.start(15);\n    Tone.Transport.bpm.value = 160;\n\n    return () => Tone.Transport.stop(0);\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Fabric gridSize={[21, 21]} showGrid={true}>\n        <RightTriangle orientation=\"NW\" fill=\"red\" sideLength={21} />\n      </Fabric>\n    </React.Fragment>\n  );\n}\n","import * as Tone from \"tone\";\n\nlet counter;\nlet synth;\n// let loopBeat;\n\ncounter = 0;\nsynth = new Tone.PolySynth({\n  maxPolyphony: 32,\n  envelope: {\n    attack: 0.001,\n    sustain: 0.2,\n    decay: 0.2,\n    release: 0.4\n  },\n  volume: 10\n}).toMaster();\nsynth.set({ detune: -1200 });\n//pluckSynth = new Tone.PluckSynth().toMaster();\n\n// loopBeat = new Tone.Loop(song, \"16n\");\n// Tone.Transport.bpm.value = 140;\n// Tone.Transport.start();\n// loopBeat.start(0);\n\nexport function polySketchInC(time) {\n  if (counter % 7 === 0) {\n    synth.triggerAttackRelease([\"256\"], \"16n\", time, 0.2);\n  }\n  if (counter === 4) {\n    synth.triggerAttackRelease([\"128\"], \"16n\", time, 0.5);\n  }\n  if (counter === 8) {\n    synth.triggerAttackRelease([\"384\"], \"16n\", time, 0.4);\n  }\n  if (counter === 9) {\n    synth.triggerAttackRelease([\"512\"], \"16n\", time, 0.3);\n  }\n  if (counter === 3) {\n    synth.triggerAttackRelease([\"640\"], \"16n\", time, 0.3);\n  }\n  if (counter === 2) {\n    synth.triggerAttackRelease([\"768\"], \"16n\", time, 0.3);\n  }\n  //synth.triggerAttackRelease([\"256\", \"384\", \"512\", \"640\"],'16', time, 0.4);\n  //pluckSynth.triggerAttackRelease('120', '16n', 1);\n  counter = (counter + 1) % 21;\n}\n","import React from \"react\";\nimport * as Tone from \"tone\";\nimport { AppContext } from \"../app-context\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { PlayCircleOutline } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    overflow: \"hidden\",\n    backgroundColor: \"rgba(0,0,0,0.7)\",\n    zIndex: 1000,\n    display: ({ isAudioStarted }) => (isAudioStarted ? \"none\" : \"flex\"),\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  startButton: {\n    color: \"rgba(255,255,255,1)\",\n    \"&:hover\": {\n      color: \"rgba(255,255,255,0.9)\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"6em\"\n    }\n  }\n});\n\nexport default function AudioStartButton() {\n  const { isAudioStarted, setIsAudioStarted } = React.useContext(AppContext);\n  const classes = useStyles({ isAudioStarted });\n\n  async function handleAudioStart() {\n    if (!isAudioStarted) {\n      await Tone.start();\n      setIsAudioStarted(true);\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <IconButton onClick={handleAudioStart} className={classes.startButton}>\n        <PlayCircleOutline />\n      </IconButton>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Fabric from \"../../components/Fabric\";\nimport Diamond from \"../../components/shapes/Diamond\";\n\nexport default function NestedDiamonds() {\n  const [selectAll, setSelectAll] = React.useState(false);\n  const [selectAll2, setSelectAll2] = React.useState(false);\n\n  return (\n    <React.Fragment>\n      <Fabric\n        gridSize={[41, 41]}\n        backgroundColor=\"#fff\"\n        // showGrid\n        // gridColor=\"#333\"\n      >\n        <Diamond\n          diameter={41}\n          filled\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Diamond\n          diameter={31}\n          filled\n          fill=\"#ffffff\"\n          stroke=\"#ffffff\"\n          cx={20}\n          cy={20}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Diamond\n          diameter={21}\n          filled\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Diamond\n          diameter={11}\n          filled\n          fill=\"#ffffff\"\n          stroke=\"#ffffff\"\n          cx={20}\n          cy={20}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Diamond\n          diameter={3}\n          filled\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n      </Fabric>\n      <Fabric\n        gridSize={[41, 41]}\n        backgroundColor=\"#fff\"\n        // showGrid\n        // gridColor=\"#333\"\n      >\n        <Diamond\n          diameter={41}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={39}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={37}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={33}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={25}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={21}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={17}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={7}\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n        <Diamond\n          diameter={3}\n          filled\n          fill=\"#ff0000\"\n          stroke=\"#ff0000\"\n          cx={20}\n          cy={20}\n          selected={selectAll2}\n          setSelected={setSelectAll2}\n        />\n      </Fabric>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport ShapeBase from \"./ShapeBase\";\n\nexport default function Plus({\n  diameter,\n  lineWidth,\n  stroke,\n  x,\n  y,\n  selected,\n  setSelected\n}) {\n  const [stitches, setStitches] = React.useState([]);\n\n  React.useEffect(() => {\n    const tempStitches = [];\n\n    for (let x = 0; x < diameter; x++) {\n      for (let y = 0; y < diameter; y++) {\n        if (\n          (x >= Math.floor((diameter - lineWidth) / 2) &&\n            x < Math.floor(diameter - (diameter - lineWidth) / 2)) ||\n          (y >= Math.floor((diameter - lineWidth) / 2) &&\n            y < Math.floor(diameter - (diameter - lineWidth) / 2))\n        ) {\n          tempStitches.push({ fill: stroke, x, y });\n        }\n      }\n    }\n    setStitches(tempStitches);\n  }, [diameter, lineWidth]);\n\n  return (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  );\n}\n","import * as React from \"react\";\nimport Fabric from \"../../components/Fabric\";\nimport Plus from \"../../components/shapes/Plus\";\n\nexport default function NestedPlus() {\n  const [selectAll, setSelectAll] = React.useState(false);\n  return (\n    <Fabric cellSize={10} gridSize={[21, 21]}>\n      <g>\n        <Plus\n          cellSize={10}\n          diameter={21}\n          lineWidth={9}\n          stroke=\"#ff0000\"\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Plus\n          cellSize={10}\n          diameter={21}\n          lineWidth={5}\n          stroke=\"#ffffff\"\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n        <Plus\n          cellSize={10}\n          diameter={3}\n          lineWidth={1}\n          stroke=\"#ff0000\"\n          x={9}\n          y={9}\n          selected={selectAll}\n          setSelected={setSelectAll}\n        />\n      </g>\n    </Fabric>\n  );\n}\n","import Fabric from \"../../components/Fabric\";\nimport Plus from \"../../components/shapes/Plus\";\n\nexport default function PlusCross() {\n  return (\n    <Fabric cellSize={10} gridSize={[21, 21]}>\n      <g>\n        <Plus cellSize={10} diameter={21} lineWidth={1} stroke=\"#ff0000\" />\n        <Plus\n          cellSize={10}\n          diameter={3}\n          lineWidth={1}\n          stroke=\"#ff0000\"\n          x={9}\n          y={1}\n        />\n        <Plus\n          cellSize={10}\n          diameter={3}\n          lineWidth={1}\n          stroke=\"#ff0000\"\n          x={9}\n          y={17}\n        />\n        <Plus\n          cellSize={10}\n          diameter={3}\n          lineWidth={1}\n          stroke=\"#ff0000\"\n          x={1}\n          y={9}\n        />\n        <Plus\n          cellSize={10}\n          diameter={3}\n          lineWidth={1}\n          stroke=\"#ff0000\"\n          x={17}\n          y={9}\n        />\n      </g>\n    </Fabric>\n  );\n}\n","import * as React from \"react\";\nimport G from \"../G\";\nimport Plus from \"./Plus\";\n\n/**\n * ### PlusStar\n * Compound shape of four plusses in a diamond\n * @param {Object} props\n * @param {string[]} props.colors - colors of each plus [top, right, bottom, left]\n */\nexport default function PlusStar({ colors, x, y }) {\n  const [selectAll, setSelectAll] = React.useState(false);\n\n  return (\n    <G x={x} y={y}>\n      <Plus\n        diameter={3}\n        lineWidth={1}\n        stroke={colors[0]}\n        x={1}\n        y={3}\n        selected={selectAll}\n        setSelected={setSelectAll}\n      />\n      <Plus\n        diameter={3}\n        lineWidth={1}\n        stroke={colors[1]}\n        x={3}\n        y={1}\n        selected={selectAll}\n        setSelected={setSelectAll}\n      />\n      <Plus\n        diameter={3}\n        lineWidth={1}\n        stroke={colors[2]}\n        x={5}\n        y={3}\n        selected={selectAll}\n        setSelected={setSelectAll}\n      />\n      <Plus\n        diameter={3}\n        lineWidth={1}\n        stroke={colors[3]}\n        x={3}\n        y={5}\n        selected={selectAll}\n        setSelected={setSelectAll}\n      />\n    </G>\n  );\n}\n","import Fabric from \"../../components/Fabric\";\nimport PlusStar from \"../../components/shapes/PlusStar\";\nimport React from \"react\";\nimport { AppContext } from \"../../app-context\";\n\nexport default function PlusStars() {\n  const { cellSize } = React.useContext(AppContext);\n  return (\n    <Fabric cellSize={cellSize} gridSize={[21, 21]} backgroundColor=\"white\">\n      <g transform={`translate(${0 * cellSize}, ${0 * cellSize})`}>\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={3}\n        />\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={9}\n        />\n      </g>\n      <g transform={`translate(${0 * cellSize}, ${5 * cellSize})`}>\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={0}\n        />\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={6}\n        />\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={12}\n        />\n      </g>\n      <g transform={`translate(${0 * cellSize}, ${10 * cellSize})`}>\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={3}\n        />\n        <PlusStar\n          colors={[\"gold\", \"#a91b0d\", \"gold\", \"#a91b0d\"]}\n          cellSize={10}\n          x={9}\n        />\n      </g>\n    </Fabric>\n  );\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport * as Tone from \"tone\";\nimport { polySketchInC } from \"../../components/tonejs/polysketchinC\";\n\nconst useStyles = makeStyles({\n  root: {\n    \"& button\": {\n      display: \"block\"\n    }\n  }\n});\n\nexport default function ToneTest() {\n  const classes = useStyles();\n  const loopBeat = React.useRef(new Tone.Loop(polySketchInC, \"16n\"));\n  const [loopOn, setLoopOn] = React.useState(false);\n\n  React.useEffect(() => {\n    loopOn ? loopBeat.current.start(0) : loopBeat.current.stop(0);\n    return () => loopBeat.current.stop(0);\n  }, [loopOn]);\n\n  function handleClick() {\n    setLoopOn(!loopOn);\n  }\n\n  return (\n    <div className={classes.root}>\n      <button onClick={handleClick}>Toggle Beat</button>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport Fabric from \"../../components/Fabric\";\nimport Square from \"../../components/shapes/Square\";\nimport G from \"../../components/G\";\n\nexport default function SquareTest() {\n  const cellSize = 10;\n  const [emptySelected, setEmptySelected] = React.useState(false);\n  const [solidSelected, setSolidSelected] = React.useState(false);\n  const [redSelected, setRedSelected] = React.useState(false);\n  const [groupSelected, setGroupSelected] = React.useState(false);\n\n  return (\n    <Fabric cellSize={cellSize} gridSize={[20, 20]}>\n      <Square\n        width={5}\n        stroke=\"black\"\n        selected={emptySelected}\n        setSelected={setEmptySelected}\n      />\n      <Square\n        width={5}\n        stroke=\"black\"\n        fill=\"black\"\n        x={6}\n        selected={solidSelected}\n        setSelected={setSolidSelected}\n      />\n      <Square\n        width={5}\n        stroke=\"black\"\n        fill=\"red\"\n        x={12}\n        selected={redSelected}\n        setSelected={setRedSelected}\n      />\n      <G x={0} y={6}>\n        <Square\n          width={12}\n          stroke=\"black\"\n          selected={groupSelected}\n          setSelected={setGroupSelected}\n        />\n        <Square\n          width={9}\n          stroke=\"black\"\n          x={8}\n          y={5}\n          selected={groupSelected}\n          setSelected={setGroupSelected}\n        />\n      </G>\n    </Fabric>\n  );\n}\n","import Line from \"../../components/shapes/Line\";\nimport Fabric from \"../../components/Fabric\";\n\nexport default function LineTest() {\n  const cellSize = 10;\n  return (\n    <Fabric cellSize={10} gridSize={[20, 20]} showGrid gridColor=\"#eeeeee\">\n      <Line\n        length={16}\n        angle=\"horizontal\"\n        color=\"black\"\n        cellSize={cellSize}\n        x={2}\n      />\n      <Line\n        length={16}\n        angle=\"vertical\"\n        color=\"black\"\n        cellSize={cellSize}\n        y={2}\n      />\n      <Line\n        length={16}\n        angle=\"horizontal\"\n        color=\"black\"\n        cellSize={cellSize}\n        x={2}\n        y={19}\n      />\n      <Line\n        length={16}\n        angle=\"vertical\"\n        color=\"black\"\n        cellSize={cellSize}\n        x={19}\n        y={2}\n      />\n      <Line\n        length={10}\n        angle=\"diagonal-down\"\n        color=\"black\"\n        cellSize={cellSize}\n        x={5}\n        y={5}\n      />\n      <Line\n        length={10}\n        angle=\"diagonal-up\"\n        color=\"black\"\n        cellSize={cellSize}\n        x={5}\n        y={5}\n      />\n    </Fabric>\n  );\n}\n","import * as React from \"react\";\nimport G from \"../G\";\nimport Line from \"./Line\";\n\nexport default function Star({ center, color, width, selected, setSelected }) {\n  const w = width % 2 === 0 ? width - 1 : width;\n  const dwidth = w > 15 ? w - Math.floor(w / 3.5) : w - Math.floor(w / 5);\n  const dw = dwidth % 2 === 0 ? dwidth - 1 : dwidth;\n\n  return (\n    <G x={center[0]} y={center[1]}>\n      <Line\n        length={w}\n        angle=\"horizontal\"\n        color={color}\n        x={Math.ceil(-w / 2)}\n        selected={selected}\n        setSelected={setSelected}\n      />\n      <Line\n        length={w}\n        angle=\"vertical\"\n        color={color}\n        y={Math.ceil(-w / 2)}\n        selected={selected}\n        setSelected={setSelected}\n      />\n      <Line\n        length={dw}\n        angle=\"diagonal-down\"\n        color={color}\n        x={Math.ceil(-dw / 2)}\n        y={Math.ceil(-dw / 2)}\n        selected={selected}\n        setSelected={setSelected}\n      />\n      <Line\n        length={dw}\n        angle=\"diagonal-up\"\n        color={color}\n        x={Math.ceil(-dw / 2)}\n        y={Math.ceil(-dw / 2)}\n        selected={selected}\n        setSelected={setSelected}\n      />\n    </G>\n  );\n}\n","import React from \"react\";\nimport Fabric from \"../../components/Fabric\";\nimport Diamond from \"../../components/shapes/Diamond\";\nimport Plus from \"../../components/shapes/Plus\";\nimport Square from \"../../components/shapes/Square\";\nimport Star from \"../../components/shapes/Star\";\n\nexport default function StarDiamond() {\n  const red = \"rgb(149,57,45)\";\n  const green = \"rgb(117,153,88)\";\n  const orange = \"rgb(240,158,96)\";\n  return (\n    <Fabric\n      gridSize={[99, 99]}\n      backgroundColor=\"#eee\"\n      showGrid\n      gridColor=\"#333\"\n    >\n      <Diamond diameter={99} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={97} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={95} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={93} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={91} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={89} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={87} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={85} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={83} stroke={red} cx={49} cy={49} />\n      <Diamond diameter={79} stroke=\"#fff\" cx={49} cy={49} />\n      <Diamond diameter={77} stroke=\"#222\" fill=\"#222\" filled cx={49} cy={49} />\n      <Star center={[49, 49]} color={orange} width={47} />\n      <Square width={7} stroke={green} fill={green} x={46} y={46} />\n      <Plus diameter={3} lineWidth={1} stroke=\"white\" x={48} y={48} />\n    </Fabric>\n  );\n}\n","import * as React from \"react\";\r\nimport Fabric from \"../../components/Fabric\";\r\nimport Star from \"../../components/shapes/Star\";\r\n\r\nexport default function StarTest() {\r\n  const [selectFirst, setSelectFirst] = React.useState(false);\r\n  const [selectSecond, setSelectSecond] = React.useState(false);\r\n\r\n  return (\r\n    <Fabric gridSize={[37, 51]} backgroundColor=\"#222\" showGrid>\r\n      <Star\r\n        center={[2, 5]}\r\n        color=\"white\"\r\n        width={1}\r\n        selected={selectFirst}\r\n        setSelected={setSelectFirst}\r\n      />\r\n      <Star\r\n        center={[6, 5]}\r\n        color=\"white\"\r\n        width={3}\r\n        selected={selectSecond}\r\n        setSelected={setSelectSecond}\r\n      />\r\n      <Star center={[12, 5]} color=\"white\" width={5} />\r\n      <Star center={[20, 5]} color=\"white\" width={7} />\r\n      <Star center={[30, 5]} color=\"white\" width={9} />\r\n      <Star center={[7, 20]} color=\"white\" width={11} />\r\n      <Star center={[28, 20]} color=\"white\" width={13} />\r\n      <Star center={[9, 37]} color=\"white\" width={15} />\r\n      <Star center={[27, 37]} color=\"white\" width={17} />\r\n    </Fabric>\r\n  );\r\n}\r\n","import Fabric from \"../../components/Fabric\";\r\nimport Diamond from \"../../components/shapes/Diamond\";\r\n\r\nexport default function EmptyDiamond() {\r\n  return (\r\n    <Fabric showGrid gridSize={[20, 20]} gridColor=\"black\">\r\n      <Diamond diameter={11} fill=\"red\" stroke=\"red\" cx={10} cy={10} />\r\n    </Fabric>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { interpolateGreys } from \"d3-scale-chromatic\";\r\nimport Fabric from \"../../components/Fabric\";\r\nimport ShapeBase from \"../../components/shapes/ShapeBase\";\r\n\r\nexport default function NoiseSquare() {\r\n  const width = 50;\r\n  const [grayNoise, setGrayNoise] = React.useState([]);\r\n  const [bwNoise, setBwNoise] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const tmp = [];\r\n    for (let x = 0; x < width; x++) {\r\n      for (let y = 0; y < width; y++) {\r\n        tmp.push({ fill: interpolateGreys(Math.random()), x, y });\r\n      }\r\n    }\r\n    setGrayNoise(tmp);\r\n\r\n    const bwtmp = [];\r\n    for (let x = 0; x < width; x++) {\r\n      for (let y = 0; y < width; y++) {\r\n        bwtmp.push({ fill: interpolateGreys(Math.round(Math.random())), x, y });\r\n      }\r\n    }\r\n    setBwNoise(bwtmp);\r\n  }, [width]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Fabric gridSize={[width, width]}>\r\n        <ShapeBase stitches={grayNoise} x={0} y={0} />\r\n      </Fabric>\r\n      <Fabric gridSize={[width, width]}>\r\n        <ShapeBase stitches={bwNoise} x={0} y={0} />\r\n      </Fabric>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\nimport Fabric from \"../../components/Fabric\";\nimport { IsoTriangle } from \"../../components/shapes/Triangles\";\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 200,\n    margin: \"0 auto\"\n  }\n});\n\nexport default function IsoscelesTriangles() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"north\" size={13} fill=\"red\" x={3} y={6} />\n      </Fabric>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"south\" size={13} fill=\"red\" x={3} y={6} />\n      </Fabric>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"east\" size={13} fill=\"red\" x={6} y={3} />\n      </Fabric>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"west\" size={13} fill=\"red\" x={6} y={3} />\n      </Fabric>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"north\" size={13} fill=\"red\" x={3} y={6} />\n        <IsoTriangle orientation=\"south\" size={13} fill=\"red\" x={3} y={6} />\n        <IsoTriangle orientation=\"east\" size={13} fill=\"red\" x={6} y={3} />\n        <IsoTriangle orientation=\"west\" size={13} fill=\"red\" x={6} y={3} />\n      </Fabric>\n      <Fabric showGrid gridSize={[19, 19]} gridColor=\"black\">\n        <IsoTriangle orientation=\"north\" size={13} fill=\"red\" x={3} y={12} />\n        <IsoTriangle orientation=\"south\" size={13} fill=\"red\" x={3} y={0} />\n        <IsoTriangle orientation=\"east\" size={13} fill=\"red\" x={0} y={3} />\n        <IsoTriangle orientation=\"west\" size={13} fill=\"red\" x={12} y={3} />\n      </Fabric>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport ShapeBase from \"./ShapeBase\";\n\nexport default function X({ width, fill, x, y, selected, setSelected }) {\n  const [stitches, setStitches] = React.useState([]);\n\n  React.useEffect(() => {\n    const tempStitches = [];\n    for (let i = 0; i < width; i++) {\n      tempStitches.push({ fill: fill, x: i, y: i });\n      tempStitches.push({ fill: fill, x: width - i - 1, y: i });\n    }\n    setStitches(\n      tempStitches.filter(\n        (stitch, index, arr) =>\n          index == arr.findIndex((s) => stitch.x == s.x && stitch.y == s.y)\n      )\n    );\n  }, [width]);\n\n  return (\n    <ShapeBase\n      stitches={stitches}\n      x={x}\n      y={y}\n      selected={selected}\n      setSelected={setSelected}\n    />\n  );\n}\n","import * as React from \"react\";\nimport Fabric from \"../../components/Fabric\";\nimport X from \"../../components/shapes/X\";\n\nexport default function XStitchSet() {\n  const [sel1, setSel1] = React.useState(false);\n  const [sel2, setSel2] = React.useState(false);\n  const [sel3, setSel3] = React.useState(false);\n  const [sel4, setSel4] = React.useState(false);\n  const [sel5, setSel5] = React.useState(false);\n  const [sel6, setSel6] = React.useState(false);\n  return (\n    <Fabric showGrid gridSize={[20, 20]} gridColor=\"black\">\n      <X\n        width={3}\n        fill=\"red\"\n        x={0}\n        y={2}\n        selected={sel1}\n        setSelected={setSel1}\n      />\n      <X\n        width={5}\n        fill=\"red\"\n        x={5}\n        y={1}\n        selected={sel2}\n        setSelected={setSel2}\n      />\n      <X\n        width={7}\n        fill=\"red\"\n        x={12}\n        y={0}\n        selected={sel3}\n        setSelected={setSel3}\n      />\n\n      <X\n        width={4}\n        fill=\"red\"\n        x={0}\n        y={12}\n        selected={sel4}\n        setSelected={setSel4}\n      />\n      <X\n        width={6}\n        fill=\"red\"\n        x={5}\n        y={11}\n        selected={sel5}\n        setSelected={setSel5}\n      />\n      <X\n        width={8}\n        fill=\"red\"\n        x={12}\n        y={10}\n        selected={sel6}\n        setSelected={setSel6}\n      />\n    </Fabric>\n  );\n}\n","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport AudioStartButton from \"../../components/AudioStart\";\nimport ColorPicker from \"../../components/ColorPicker\";\n\nimport NestedDiamonds from \"./nested-diamonds\";\nimport NestedPlus from \"./nested-plus\";\nimport PlusCross from \"./plus-cross\";\nimport PlusStars from \"./plus-stars\";\nimport ToneTest from \"./tone-test\";\nimport SquareTest from \"./square-test\";\nimport LineTest from \"./line-test\";\nimport StarDiamond from \"./star-diamond-test\";\nimport StarTest from \"./star-test\";\nimport EmptyDiamond from \"./empty-diamond\";\nimport NoiseSquare from \"./noise-square\";\nimport IsoscelesTriangles from \"./iso-triangles\";\nimport XStitchSet from \"./x-stitch-set\";\n\nconst menu = [\n  {\n    url: \"/tests/nested-diamonds\",\n    title: \"Nested Diamonds\",\n    component: <NestedDiamonds />\n  },\n  {\n    url: \"/tests/nested-plus\",\n    title: \"Nested Plus\",\n    component: <NestedPlus />\n  },\n  { url: \"/tests/plus-cross\", title: \"Plus Cross\", component: <PlusCross /> },\n  { url: \"/tests/plus-star\", title: \"Plus Star\", component: <PlusStars /> },\n  { url: \"/tests/tone-test\", title: \"Tone Test\", component: <ToneTest /> },\n  {\n    url: \"/tests/square-test\",\n    title: \"Square Test\",\n    component: <SquareTest />\n  },\n  { url: \"/tests/line-test\", title: \"Line Test\", component: <LineTest /> },\n  { url: \"/tests/star-test\", title: \"Star Test\", component: <StarTest /> },\n  {\n    url: \"/tests/star-diamond\",\n    title: \"Star Diamond Test\",\n    component: <StarDiamond />\n  },\n  {\n    url: \"/tests/empty-diamond\",\n    title: \"Empty Diamond\",\n    component: <EmptyDiamond />\n  },\n  {\n    url: \"/tests/noise-square\",\n    title: \"Noise Square\",\n    component: <NoiseSquare width={20} />\n  },\n  {\n    url: \"/tests/iso-triangles\",\n    title: \"Isosceles Triangles\",\n    component: <IsoscelesTriangles />\n  },\n  {\n    url: \"/tests/x-stitch-set\",\n    title: \"X Stitch Set\",\n    component: <XStitchSet />\n  }\n];\n\nconst useStyles = makeStyles({\n  embroidery: {\n    maxWidth: 800,\n    margin: \"0 auto\"\n  }\n});\n\nexport default function TestPage() {\n  const classes = useStyles();\n\n  return (\n    <main>\n      <Route path=\"/tests\" exact>\n        <h1>Tests</h1>\n        <nav>\n          <ul>\n            {menu.map((item) => (\n              <li key={item.url}>\n                <Link to={item.url}>{item.title}</Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n      </Route>\n      {menu.map((item) => (\n        <Route path={item.url} key={item.url}>\n          <Link to=\"/tests\">Back</Link>\n          <ColorPicker />\n          <AudioStartButton />\n          <div className={classes.embroidery}>{item.component}</div>\n        </Route>\n      ))}\n    </main>\n  );\n}\n","import { Button, makeStyles, TextField } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport Fabric from \"../components/Fabric\";\nimport ShapeBase from \"../components/shapes/ShapeBase\";\n\nconst useStyles = makeStyles({\n  controls: {\n    display: \"flex\",\n    marginBottom: 20\n  },\n  form: {\n    marginRight: 20\n  }\n});\n\nexport default function FreeDraw() {\n  const classes = useStyles();\n  const [size, setSize] = React.useState(20);\n  const [text, setText] = React.useState(\"20\");\n  const [stitches, setStitches] = React.useState([]);\n\n  React.useEffect(() => {\n    const temp = [];\n    for (let x = 0; x < size; x++) {\n      for (let y = 0; y < size; y++) {\n        temp.push({ fill: \"transparent\", x, y });\n      }\n    }\n    setStitches(temp);\n  }, [size]);\n\n  function submitHandler(e) {\n    e.preventDefault();\n    setSize(Number(text));\n  }\n  function handleChange(e) {\n    const num = Number(e.target.value);\n    if (e.target.value == \"\" || (num > 0 && num < 51)) setText(e.target.value);\n  }\n\n  function resetHandler(e) {\n    setStitches(stitches.map((stitch) => ({ ...stitch, fill: \"transparent\" })));\n  }\n\n  return (\n    <div>\n      <div className={classes.controls}>\n        <form\n          noValidate\n          autoComplete=\"off\"\n          onSubmit={submitHandler}\n          className={classes.form}\n        >\n          <TextField\n            id=\"grid-size\"\n            label=\"Grid Size\"\n            size=\"small\"\n            variant=\"outlined\"\n            value={text}\n            onChange={handleChange}\n            type=\"number\"\n          />\n        </form>\n        <Button variant=\"outlined\" color=\"secondary\" onClick={resetHandler}>\n          Reset\n        </Button>\n      </div>\n\n      <Fabric gridSize={[size, size]} gridColor=\"#eaeaea\" showGrid>\n        {stitches && <ShapeBase stitches={stitches} x={0} y={0} />}\n      </Fabric>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport ColorPicker from \"../components/ColorPicker\";\nimport { makeStyles } from \"@material-ui/core\";\nimport StarDiamond from \"./star-diamond\";\nimport TriangleInD from \"./triangle-in-d\";\nimport AudioStartButton from \"../components/AudioStart\";\nimport TestPage from \"./tests/TestPage\";\nimport FreeDraw from \"./FreeDraw\";\n\nconst menu = [\n  {\n    url: \"/star-diamond\",\n    title: \"Star Diamond Interface\",\n    component: <StarDiamond />\n  },\n  {\n    url: \"/triangle-in-d\",\n    title: \"Triangle In D\",\n    component: <TriangleInD />\n  },\n  {\n    url: \"/free-draw\",\n    title: \"Free Draw\",\n    component: <FreeDraw />\n  }\n];\n\nconst useStyles = makeStyles({\n  embroidery: {\n    maxWidth: 800,\n    margin: \"0 auto\"\n  },\n  backLink: {\n    display: \"inline-block\"\n  }\n});\n\nexport default function Layout() {\n  const classes = useStyles();\n\n  return (\n    <main>\n      <Route path=\"/\" exact>\n        <h1>Vyshyvanka.js/Вишиванка.js</h1>\n        <nav>\n          <ul>\n            <li>\n              <Link to={\"/tests\"}>Tests</Link>\n            </li>\n            {menu.map((item) => (\n              <li key={item.url}>\n                <Link to={item.url}>{item.title}</Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n      </Route>\n      <Route path={\"/tests\"}>\n        <TestPage />\n      </Route>\n      {menu.map((item) => (\n        <Route path={item.url} key={item.url}>\n          <Link to=\"/\" className={classes.backLink}>\n            Back\n          </Link>\n          <ColorPicker />\n          <AudioStartButton />\n          <div className={classes.embroidery}>{item.component}</div>\n        </Route>\n      ))}\n    </main>\n  );\n}\n","import * as React from \"react\";\nimport * as Tone from \"tone\";\nimport \"./styles.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Layout from \"./layout/layout\";\nimport { AppContext, defaultAppContext } from \"./app-context\";\nimport { colors } from \"./theme/colors\";\n\nTone.Transport.bpm.value = 160;\nTone.Transport.start();\n\nexport default function App() {\n  const [selectFill, setSelectFill] = React.useState(colors.blue);\n  const [isAudioStarted, setIsAudioStarted] = React.useState(false);\n\n  return (\n    <div className=\"App\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <AppContext.Provider\n          value={{\n            ...defaultAppContext,\n            selectFill,\n            setSelectFill,\n            isAudioStarted,\n            setIsAudioStarted\n          }}\n        >\n          <Layout />\n        </AppContext.Provider>\n      </Router>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}