(this["webpackJsonpvyshyvanka-js"]=this["webpackJsonpvyshyvanka-js"]||[]).push([[0],{148:function(e,t,c){},264:function(e,t,c){"use strict";c.r(t);var s=c(0),r=c.n(s),n=c(16),i=c.n(n),l=c(2),a=c(5),o=c(10),d=(c(148),c(32)),j=c(19),u=c(296),f=c(298),x=c(265),b="#1f1300",h="#2A3338",O="#f2f7f2",y="#7d2d26",S="#CE675E",g="#dc928b",m="#c26100",p="#FF8811",v="#ffa54c",k="#edb214",w="#F4D06F",z="#f8e2a6",C="#1446a0",D="#1b5dd4",E="#6595ec",F="#0A5A3F",A="#108f64",N="#16c489",R={oscillator:{type:"sine"},modulationIndex:20,modulation:{type:"sawtooth"},envelope:{attack:.01,decay:.2,sustain:.2,release:2,attackCurve:"sine"},volume:-9},W={oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.1,release:.5,sustain:.5},filter:{Q:1,rolloff:-12,type:"lowpass"},filterEnvelope:{attack:.4,baseFrequency:150,decay:.2,exponent:2,octaves:3,release:2,sustain:.5},volume:-12},G=new o.j,M=new o.d({maxDelay:2,feedback:.5,wet:.2}),L=new o.e,T=new o.o(-6).toDestination(),I=new o.c(R).chain(G,M,L,T),B=new o.c(Object(l.a)(Object(l.a)({},R),{},{volume:0})).chain(G,M,L,T),K=new o.c(R).chain(G,M,L,T),Q=new o.c(R).chain(G,M,L,T),q=new o.h(Object(l.a)(Object(l.a)({},W),{},{volume:-6})).chain(G,M,L,T),P=new o.h(Object(l.a)(Object(l.a)({},W),{},{volume:-6})).chain(G,M,L,T),H=new o.h(W).chain(G,M,L,T),J=new o.h(W).chain(G,M,L,T),U=new o.f(-12,"decibels").connect(o.b),V=new o.d({maxDelay:2,feedback:.5,wet:.2}).connect(U),X=new o.c({volume:-9}).chain(V,G,L,T),Y={cellSize:24,selectFill:D,setSelectFill:function(){},isAudioStarted:!1,setIsAudioStarted:function(){},pitchShift:G,delay:M,reverb:L,volume:T,neQuadrantSynth:I,seQuadrantSynth:B,swQuadrantSynth:K,nwQuadrantSynth:Q,ascLineSynth:q,descLineSynth:P,verticalLineSynth:H,horizontalLineSynth:J,outerDiamondSynth:X,outerDiamondDelay:V},Z=Object(s.createContext)(Y),$=c(125),_=c(1),ee=Object(x.a)({root:{position:"fixed",bottom:0,right:0,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",padding:5,"& .MuiIconButton-root":{color:"#333"}}}),te=["#000000",b,h,O,"#FFFFFF",y,S,g,m,p,v,k,w,z,F,A,N,C,D,E];function ce(){var e=ee(),t=s.useContext(Z),c=(t.cellSize,t.selectFill),r=t.setSelectFill,n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1];return Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)("div",{style:{display:l?"block":"none"},children:Object(_.jsx)($.a,{color:c,colors:te,onChangeComplete:function(e){r(e.hex),o(!1)}})}),Object(_.jsx)(u.a,{size:"small",fontSize:"large",onClick:function(){return o(!l)},children:Object(_.jsx)(f.a,{})})]})}var se=c(299),re=Object(x.a)({root:{backgroundColor:function(e){return e.backgroundColor}}});function ne(e){var t=e.gridSize,c=e.backgroundColor,s=e.showGrid,n=e.gridColor,i=e.children,l=re({backgroundColor:c}),a=r.a.useContext(Z).cellSize;return Object(_.jsxs)("svg",{className:l.root,viewBox:"0 0 ".concat(t[0]*a+1," ").concat(t[1]*a+1),children:[Object(_.jsx)("defs",{children:Object(_.jsxs)("pattern",{id:"fabric-grid",x:"0",y:"0",width:a,height:a,patternUnits:"userSpaceOnUse",children:[Object(_.jsx)("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:n||"white",strokeWidth:2}),Object(_.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:n||"white",strokeWidth:2})]})}),s&&Object(_.jsx)("rect",{width:"100%",height:"100%",fill:"url(#fabric-grid)"}),i]})}var ie=c(26);function le(e){var t=e.x,c=e.y,s=e.children,n=Object(ie.a)(e,["x","y","children"]),i=r.a.useContext(Z).cellSize;return Object(_.jsx)("g",Object(l.a)(Object(l.a)({transform:"translate(".concat(t?t*i:0,", ").concat(c?c*i:0,")")},n),{},{children:s}))}var ae=c(13);function oe(e){var t=e.stitches,c=e.x,r=e.y,n=e.selected,i=e.setSelected,o=s.useContext(Z),d=o.cellSize,j=o.selectFill,u=s.useState(t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{selected:!1,originalFill:e.fill})}))),f=Object(a.a)(u,2),x=f[0],b=f[1];function h(e){if(e.shiftKey){var t=Object(ae.a)(x),c=t[e.currentTarget.dataset.id];c.selected=!c.selected,c.fill=c.selected?j:c.originalFill,b(t)}}return s.useEffect((function(){b(t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{selected:!1,originalFill:e.fill})})))}),[t]),Object(_.jsx)(le,{x:c,y:r,fillOpacity:n?.5:1,onClick:function(e){!e.shiftKey&&i&&null!=n&&i(!n)},children:x.map((function(e,t){return Object(_.jsx)("rect",{width:d,height:d,fill:e.fill,x:e.x*d+.5,y:e.y*d+.5,onClick:h,"data-id":t},"stitch-".concat(t))}))})}function de(e){var t=e.diameter,c=e.stroke,r=e.fill,n=e.filled,i=e.cx,l=e.cy,o=e.selected,d=e.setSelected,j=s.useState(),u=Object(a.a)(j,2),f=u[0],x=u[1],b=s.useState(t%2===0?t-1:t),h=Object(a.a)(b,2),O=h[0],y=h[1];return s.useEffect((function(){y(t%2===0?t-1:t)}),[t]),s.useEffect((function(){for(var e=(O-1)/2,t=[],s=0;s<O;s++)for(var i=0;i<O;i++)s!==e-i&&s!==e+i&&s!==O-i+e-1&&s!==i+e+1-O||t.push({fill:c,x:s,y:i});if(n)for(var l=0;l<O;l++)for(var a=0;a<O;a++)l>=e-a&&l<=e+a&&l>=a+e+1-O&&l<=O-a+e-1&&t.push({fill:r,x:l,y:a});x(t)}),[t,c,r,n]),Object(_.jsx)(le,{x:i,y:l,children:f&&Object(_.jsx)(oe,{stitches:f,x:-(O-1)/2,y:-(O-1)/2,selected:o,setSelected:d})})}function je(e,t,c){var s=[];switch(e){case"NE":for(var r=0;r<t;r++)for(var n=0;n<r+1;n++)s.push({fill:c,x:n,y:r});return s;case"SE":for(var i=0;i<t;i++)for(var l=0;l<t-i;l++)s.push({fill:c,x:l,y:i});return s;case"SW":for(var a=0;a<t;a++)for(var o=a;o<t;o++)s.push({fill:c,x:o,y:a});return s;case"NW":for(var d=0;d<t;d++)for(var j=t-d-1;j<t;j++)s.push({fill:c,x:j,y:d});return s;default:return[]}}function ue(e){var t=e.orientation,c=e.sideLength,s=e.fill,n=e.x,i=e.y,l=e.selected,o=e.setSelected,d=r.a.useState(je(t,c,s)),j=Object(a.a)(d,2),u=j[0],f=j[1];return r.a.useEffect((function(){f(je(t,c,s))}),[t,c,s]),Object(_.jsx)(oe,{stitches:u,x:n,y:i,selected:l,setSelected:o})}function fe(e,t,c){var s=Math.ceil(t/2),r=s-1,n=[];switch(e){case"north":for(var i=0,l=1;i<s;i++,l+=2)for(var a=0;a<l;a++)n.push({fill:c,x:r-i+a,y:i});return n;case"south":for(var o=0,d=t;o<s;o++,d-=2)for(var j=0;j<d;j++)n.push({fill:c,x:o+j,y:o});return n;case"east":for(var u=0,f=t;u<s;u++,f-=2)for(var x=0;x<f;x++)n.push({fill:c,x:u,y:u+x});return n;case"west":for(var b=0,h=1;b<s;b++,h+=2)for(var O=0;O<h;O++)n.push({fill:c,x:b,y:r-b+O});return n;default:return[]}}function xe(e){var t=e.orientation,c=e.size,s=e.fill,n=e.x,i=e.y,l=e.selected,o=e.setSelected,d=r.a.useState(c%2===0?c-1:c),j=Object(a.a)(d,2),u=j[0],f=j[1],x=r.a.useState(fe(t,u,s)),b=Object(a.a)(x,2),h=b[0],O=b[1];return r.a.useEffect((function(){f(c%2===0?c-1:c)}),[c]),r.a.useEffect((function(){O(fe(t,u,s))}),[t,u,s]),Object(_.jsx)(oe,{stitches:h,x:n,y:i,selected:l,setSelected:o})}var be=Object(se.a)({triangle:{opacity:1,"&.clicked":{opacity:.5}}});function he(){var e=s.useContext(Z).volume,t=s.useState(e.volume.value),c=Object(a.a)(t,2),r=c[0],n=c[1],i=be(),l=s.useRef(null),d=s.useRef(null),j=s.useRef(null),u=s.useRef(null);function f(e){e.classList.toggle("clicked"),setTimeout((function(){return e.classList.toggle("clicked")}),50)}return s.useEffect((function(){e.volume.rampTo(r,.5)}),[r]),Object(_.jsxs)("g",{children:[Object(_.jsx)("g",{onClick:function(e){e.shiftKey||f(d.current),o.n.bpm.value=o.n.bpm.value-5},className:i.triangle,ref:d,children:Object(_.jsx)(ue,{orientation:"SE",sideLength:16,fill:h,x:0,y:0})}),Object(_.jsx)("g",{onClick:function(e){e.shiftKey||f(l.current),o.n.bpm.value=o.n.bpm.value+5},className:i.triangle,ref:l,children:Object(_.jsx)(ue,{orientation:"SW",sideLength:16,fill:h,x:21,y:0})}),Object(_.jsx)("g",{onClick:function(e){e.shiftKey||f(j.current),r<-4&&n(r+2)},className:i.triangle,ref:j,children:Object(_.jsx)(ue,{orientation:"NW",sideLength:16,fill:h,x:21,y:21})}),Object(_.jsx)("g",{onClick:function(e){e.shiftKey||f(u.current),n(r-2)},className:i.triangle,ref:u,children:Object(_.jsx)(ue,{orientation:"NE",sideLength:16,fill:h,x:0,y:21})})]})}function Oe(e){var t=e.patternContent,c=e.patternDirection,r=e.triangles,n=e.synth,i=s.useState(!1),l=Object(a.a)(i,2),d=l[0],j=l[1],u=s.useRef(new o.i((function(e,t){n.triggerAttackRelease(t,"16n",e)}),t,c));return s.useEffect((function(){return d?u.current.start(0):u.current.stop(0),function(){return u.current.stop(0)}}),[d]),r.map((function(e){return Object(_.jsx)(xe,{orientation:e.orientation,size:e.size,fill:S,x:e.x,y:e.y,selected:d,setSelected:j},"tri-".concat(e.orientation,"-").concat(e.x,"-").concat(e.y))}))}function ye(){var e=s.useContext(Z),t=e.nwQuadrantSynth,c=e.neQuadrantSynth,r=e.swQuadrantSynth,n=e.seQuadrantSynth;return Object(_.jsxs)("g",{children:[Object(_.jsx)(Oe,{patternContent:["D4","F4","D4"],patternDirection:"up",triangles:[{orientation:"north",size:9,x:8,y:13},{orientation:"west",size:9,x:13,y:8}],synth:t}),Object(_.jsx)(Oe,{patternContent:["D4","E4","Eb4","E4","D4"],patternDirection:"up",triangles:[{orientation:"east",size:9,x:19,y:8},{orientation:"north",size:9,x:20,y:13}],synth:c}),Object(_.jsx)(Oe,{patternContent:["D4","Eb4","D4","Eb4","D4","Eb4","D4"],patternDirection:"down",triangles:[{orientation:"south",size:9,x:8,y:19},{orientation:"west",size:9,x:13,y:20}],synth:r}),Object(_.jsx)(Oe,{patternContent:["D2"],patternDirection:"down",triangles:[{orientation:"east",size:9,x:19,y:20},{orientation:"south",size:9,x:20,y:19}],synth:n})]})}function Se(){var e=s.useContext(Z).outerDiamondSynth,t=s.useState(!1),c=Object(a.a)(t,2),r=c[0],n=c[1],i=s.useContext(Z).outerDiamondDelay,l=new o.l((function(t,c){e.triggerAttackRelease(c,"16t",t)}),["D4",[null,"C3"],["F4","G4","A4","458"]],"4n"),d=new o.l((function(e,t){i.delayTime.rampTo(t,.25,e)}),["4n","8n","16n"],"1n");return s.useEffect((function(){return r?(l.start(0),d.start(10)):(l.stop(0),d.stop(0)),function(){return l.stop(0)}}),[r]),Object(_.jsxs)("g",{children:[Object(_.jsx)(de,{diameter:37,cx:18,cy:18,stroke:F,selected:r,setSelected:n}),Object(_.jsx)(de,{diameter:35,cx:18,cy:18,stroke:F,selected:r,setSelected:n}),Object(_.jsx)(de,{diameter:33,cx:18,cy:18,stroke:F,selected:r,setSelected:n}),Object(_.jsx)(de,{diameter:31,cx:18,cy:18,stroke:F,selected:r,setSelected:n}),Object(_.jsx)(de,{diameter:27,cx:18,cy:18,stroke:b})]})}function ge(e){var t=e.fill,c=e.x,r=e.y,n=e.id,i=e.selected,l=e.handleClick,o=s.useState(t),d=Object(a.a)(o,2),j=d[0],u=d[1],f=s.useContext(Z),x=f.cellSize,b=f.selectFill;return s.useEffect((function(){u(i?b:t)}),[i]),Object(_.jsx)("rect",{width:x,height:x,fill:j,x:c*x+.5,y:r*x+.5,onClick:l,"data-id":n})}function me(e){var t=e.fill,c=e.x,r=e.y,n=e.selected,i=e.setSelected,l=s.useState(!1),o=Object(a.a)(l,2),d=o[0],j=o[1];return Object(_.jsx)(le,{fillOpacity:n?.5:1,onClick:function(e){!e.shiftKey&&i&&null!=n&&i(!n)},children:Object(_.jsx)(ge,{fill:t,x:c,y:r,selected:d,handleClick:function(){return j(!d)}})})}function pe(e){var t=e.width,c=e.x,s=e.y,n=e.stroke,i=e.fill,l=e.selected,o=e.setSelected,d=r.a.useState([]),j=Object(a.a)(d,2),u=j[0],f=j[1];return r.a.useEffect((function(){for(var e=[],c=0;c<t;c++)for(var s=0;s<t;s++)0==c||c==t-1||0==s||s==t-1?e.push({fill:n,x:c,y:s}):i&&e.push({fill:i,x:c,y:s});f(e)}),[t,n,i]),Object(_.jsx)(oe,{stitches:u,x:c,y:s,selected:l,setSelected:o})}function ve(e){var t=e.cx,c=e.cy,s=e.selected,r=e.setSelected,n=e.clickHandler;return Object(_.jsxs)("g",{onClick:n,children:[Object(_.jsx)(de,{diameter:5,cx:t,cy:c,stroke:h,fill:h,filled:!0,selected:s,setSelected:r}),Object(_.jsx)(me,{x:t,y:c,fill:w,selected:s,setSelected:r})]})}function ke(){var e=s.useContext(Z),t=e.pitchShift,c=e.delay,r=e.reverb,n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1],d=s.useState(!1),j=Object(a.a)(d,2),u=j[0],f=j[1],x=s.useState(!1),b=Object(a.a)(x,2),O=b[0],y=b[1],S=s.useState(!1),g=Object(a.a)(S,2),m=g[0],p=g[1],v=s.useState(0),k=Object(a.a)(v,2),z=k[0],C=k[1];return s.useEffect((function(){c.wet.value=l?.2:0}),[l]),s.useEffect((function(){r.wet.value=u?1:0}),[u]),s.useEffect((function(){t.pitch=z,z>0?(y(!0),p(!1)):z<0?(y(!1),p(!0)):(y(!1),p(!1))}),[z]),Object(_.jsxs)("g",{children:[Object(_.jsx)(ve,{cx:7,cy:18,selected:l,setSelected:o}),Object(_.jsx)(ve,{cx:29,cy:18,selected:u,setSelected:f}),Object(_.jsx)(ve,{cx:18,cy:7,selected:O,setSelected:y,clickHandler:function(e){e.shiftKey||C(z+1)}}),Object(_.jsx)(ve,{cx:18,cy:29,selected:m,setSelected:p,clickHandler:function(e){e.shiftKey||C(z-1)}}),Object(_.jsxs)("g",{onClick:function(){C(0),o(!1),f(!1)},children:[Object(_.jsx)(pe,{width:3,x:17,y:17,stroke:w}),Object(_.jsx)(me,{x:18,y:18,stroke:h})]})]})}function we(e){var t=e.length,c=e.angle,s=e.color,n=e.x,i=e.y,l=e.selected,o=e.setSelected,d=r.a.useState(),j=Object(a.a)(d,2),u=j[0],f=j[1];return r.a.useEffect((function(){var e=[];if("vertical"===c)for(var r=0;r<t;r++)e.push({fill:s,x:0,y:r});else if("horizontal"===c)for(var n=0;n<t;n++)e.push({fill:s,x:n,y:0});else if("diagonal-down"===c)for(var i=0;i<t;i++)e.push({fill:s,x:i,y:i});else if("diagonal-up"===c)for(var l=0;l<t;l++)e.push({fill:s,x:l,y:t-l-1});f(e)}),[t,c,s]),u?Object(_.jsx)(oe,{stitches:u,x:n,y:i,selected:l,setSelected:o}):Object(_.jsx)("g",{})}function ze(){var e=r.a.useContext(Z),t=e.ascLineSynth,c=e.descLineSynth,s=e.verticalLineSynth,n=e.horizontalLineSynth,i=new o.i((function(e,c){t.triggerAttackRelease(c,.1,e)}),["D4","F4","G4","A4","458","C4"],"up"),l=new o.i((function(e,t){c.triggerAttackRelease(t,.1,e)}),["C4","D4","E4","G4","A4","458"],"down"),d=new o.i({callback:function(e,t){s.triggerAttackRelease(t,.8)},values:["D4","F4","G4","458"],pattern:"random",playbackRate:.25}),j=new o.i({callback:function(e,t){n.triggerAttackRelease(t,.8)},values:["D4","F4","G4","458"],pattern:"random",playbackRate:.25}),u=r.a.useState(!1),f=Object(a.a)(u,2),x=f[0],b=f[1],h=r.a.useState(!1),O=Object(a.a)(h,2),y=O[0],S=O[1],g=r.a.useState(!1),m=Object(a.a)(g,2),v=m[0],k=m[1],w=r.a.useState(!1),z=Object(a.a)(w,2),C=z[0],D=z[1];return r.a.useEffect((function(){return v?l.start(0):l.stop(0),function(){return l.stop(0)}}),[v]),r.a.useEffect((function(){return C?i.start(0):i.stop(0),function(){return i.stop(0)}}),[C]),r.a.useEffect((function(){return y?d.start(0):d.stop(0),function(){return d.stop(0)}}),[y]),r.a.useEffect((function(){return x?j.start(0):j.stop(0),function(){return j.stop(0)}}),[x]),Object(_.jsxs)("g",{children:[Object(_.jsx)(we,{length:17,angle:"horizontal",color:p,x:10,y:18,selected:x,setSelected:b}),Object(_.jsx)(we,{length:17,angle:"vertical",color:p,x:18,y:10,selected:y,setSelected:S}),Object(_.jsx)(we,{length:11,angle:"diagonal-down",color:p,x:13,y:13,selected:v,setSelected:k}),Object(_.jsx)(we,{length:11,angle:"diagonal-up",color:p,x:13,y:13,selected:C,setSelected:D})]})}function Ce(){return Object(_.jsxs)(ne,{gridSize:[37,37],children:[Object(_.jsx)(he,{}),Object(_.jsx)(Se,{}),Object(_.jsx)(ye,{}),Object(_.jsx)(ze,{}),Object(_.jsx)(de,{diameter:25,cx:18,cy:18,stroke:p}),Object(_.jsx)(ke,{})]})}new o.j(5).toDestination();var De=new o.d({maxDelay:2,feedback:.8}).toDestination(),Ee=new o.c({oscillator:{type:"sawtooth"},modulationIndex:11,modulation:{type:"square"},envelope:{attack:.01,decay:.2,sustain:.2,release:2,attackCurve:"sine"}}).connect(De),Fe=(new o.a({portamento:.05}).connect(De),new o.m({portamento:.05}).connect(De),new o.i((function(e,t){Ee.triggerAttackRelease(t,.1)}),["D4","F4","D4"],"up")),Ae=new o.i((function(e,t){Ee.triggerAttackRelease(t,.1)}),["D4","E4","Eb4","E4","D4"],"up"),Ne=new o.i((function(e,t){Ee.triggerAttackRelease(t,.1)}),["D4","Eb4","D4","Eb4","D4","Eb4","D4"],"down");function Re(){return r.a.useEffect((function(){return Fe.start(0).stop(3),Ae.start(3).stop(10),Ne.start(10).stop(15),o.n.start(1),o.n.stop(3),o.n.start(3),o.n.stop(10),o.n.start(10),o.n.start(15),o.n.bpm.value=160,function(){return o.n.stop(0)}}),[]),Object(_.jsx)(r.a.Fragment,{children:Object(_.jsx)(ne,{gridSize:[21,21],showGrid:!0,children:Object(_.jsx)(ue,{orientation:"NW",fill:"red",sideLength:21})})})}var We,Ge,Me=c(3),Le=c.n(Me),Te=c(9),Ie=c(300),Be=Object(se.a)({root:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3,display:function(e){return e.isAudioStarted?"none":"flex"},justifyContent:"center",alignItems:"center"},startButton:{color:"rgba(255,255,255,1)","&:hover":{color:"rgba(255,255,255,0.9)"},"& .MuiSvgIcon-root":{fontSize:"6em"}}});function Ke(){var e=r.a.useContext(Z),t=e.isAudioStarted,c=e.setIsAudioStarted,s=Be({isAudioStarted:t});function n(){return(n=Object(Te.a)(Le.a.mark((function e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,o.p();case 3:c(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(_.jsx)("div",{className:s.root,children:Object(_.jsx)(u.a,{onClick:function(){return n.apply(this,arguments)},className:s.startButton,children:Object(_.jsx)(Ie.a,{})})})}function Qe(){var e=r.a.useState(!1),t=Object(a.a)(e,2),c=t[0],s=t[1],n=r.a.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1];return Object(_.jsxs)(r.a.Fragment,{children:[Object(_.jsxs)(ne,{gridSize:[41,41],backgroundColor:"#fff",children:[Object(_.jsx)(de,{diameter:41,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s}),Object(_.jsx)(de,{diameter:31,filled:!0,fill:"#ffffff",stroke:"#ffffff",cx:20,cy:20,selected:c,setSelected:s}),Object(_.jsx)(de,{diameter:21,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s}),Object(_.jsx)(de,{diameter:11,filled:!0,fill:"#ffffff",stroke:"#ffffff",cx:20,cy:20,selected:c,setSelected:s}),Object(_.jsx)(de,{diameter:3,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s})]}),Object(_.jsxs)(ne,{gridSize:[41,41],backgroundColor:"#fff",children:[Object(_.jsx)(de,{diameter:41,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:39,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:37,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:33,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:25,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:21,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:17,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:7,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o}),Object(_.jsx)(de,{diameter:3,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:l,setSelected:o})]})]})}function qe(e){var t=e.diameter,c=e.lineWidth,s=e.stroke,n=e.x,i=e.y,l=e.selected,o=e.setSelected,d=r.a.useState([]),j=Object(a.a)(d,2),u=j[0],f=j[1];return r.a.useEffect((function(){for(var e=[],r=0;r<t;r++)for(var n=0;n<t;n++)(r>=Math.floor((t-c)/2)&&r<Math.floor(t-(t-c)/2)||n>=Math.floor((t-c)/2)&&n<Math.floor(t-(t-c)/2))&&e.push({fill:s,x:r,y:n});f(e)}),[t,c]),Object(_.jsx)(oe,{stitches:u,x:n,y:i,selected:l,setSelected:o})}function Pe(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1];return Object(_.jsx)(ne,{cellSize:10,gridSize:[21,21],children:Object(_.jsxs)("g",{children:[Object(_.jsx)(qe,{cellSize:10,diameter:21,lineWidth:9,stroke:"#ff0000",selected:c,setSelected:r}),Object(_.jsx)(qe,{cellSize:10,diameter:21,lineWidth:5,stroke:"#ffffff",selected:c,setSelected:r}),Object(_.jsx)(qe,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:9,selected:c,setSelected:r})]})})}function He(){return Object(_.jsx)(ne,{cellSize:10,gridSize:[21,21],children:Object(_.jsxs)("g",{children:[Object(_.jsx)(qe,{cellSize:10,diameter:21,lineWidth:1,stroke:"#ff0000"}),Object(_.jsx)(qe,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:1}),Object(_.jsx)(qe,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:17}),Object(_.jsx)(qe,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:1,y:9}),Object(_.jsx)(qe,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:17,y:9})]})})}function Je(e){var t=e.colors,c=e.x,r=e.y,n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1];return Object(_.jsxs)(le,{x:c,y:r,children:[Object(_.jsx)(qe,{diameter:3,lineWidth:1,stroke:t[0],x:1,y:3,selected:l,setSelected:o}),Object(_.jsx)(qe,{diameter:3,lineWidth:1,stroke:t[1],x:3,y:1,selected:l,setSelected:o}),Object(_.jsx)(qe,{diameter:3,lineWidth:1,stroke:t[2],x:5,y:3,selected:l,setSelected:o}),Object(_.jsx)(qe,{diameter:3,lineWidth:1,stroke:t[3],x:3,y:5,selected:l,setSelected:o})]})}function Ue(){var e=r.a.useContext(Z).cellSize;return Object(_.jsxs)(ne,{cellSize:e,gridSize:[21,21],backgroundColor:"white",children:[Object(_.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(0*e,")"),children:[Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:3}),Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:9})]}),Object(_.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(5*e,")"),children:[Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:0}),Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:6}),Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:12})]}),Object(_.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(10*e,")"),children:[Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:3}),Object(_.jsx)(Je,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:9})]})]})}function Ve(e){We%7===0&&Ge.triggerAttackRelease(["256"],"16n",e,.2),4===We&&Ge.triggerAttackRelease(["128"],"16n",e,.5),8===We&&Ge.triggerAttackRelease(["384"],"16n",e,.4),9===We&&Ge.triggerAttackRelease(["512"],"16n",e,.3),3===We&&Ge.triggerAttackRelease(["640"],"16n",e,.3),2===We&&Ge.triggerAttackRelease(["768"],"16n",e,.3),We=(We+1)%21}We=0,(Ge=new o.k({maxPolyphony:32,envelope:{attack:.001,sustain:.2,decay:.2,release:.4},volume:10}).toMaster()).set({detune:-1200});var Xe=Object(se.a)({root:{"& button":{display:"block"}}});function Ye(){var e=Xe(),t=r.a.useRef(new o.g(Ve,"16n")),c=r.a.useState(!1),s=Object(a.a)(c,2),n=s[0],i=s[1];return r.a.useEffect((function(){return n?t.current.start(0):t.current.stop(0),function(){return t.current.stop(0)}}),[n]),Object(_.jsx)("div",{className:e.root,children:Object(_.jsx)("button",{onClick:function(){i(!n)},children:"Toggle Beat"})})}function Ze(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1],d=s.useState(!1),j=Object(a.a)(d,2),u=j[0],f=j[1],x=s.useState(!1),b=Object(a.a)(x,2),h=b[0],O=b[1];return Object(_.jsxs)(ne,{cellSize:10,gridSize:[20,20],children:[Object(_.jsx)(pe,{width:5,stroke:"black",selected:c,setSelected:r}),Object(_.jsx)(pe,{width:5,stroke:"black",fill:"black",x:6,selected:l,setSelected:o}),Object(_.jsx)(pe,{width:5,stroke:"black",fill:"red",x:12,selected:u,setSelected:f}),Object(_.jsxs)(le,{x:0,y:6,children:[Object(_.jsx)(pe,{width:12,stroke:"black",selected:h,setSelected:O}),Object(_.jsx)(pe,{width:9,stroke:"black",x:8,y:5,selected:h,setSelected:O})]})]})}function $e(){var e=10;return Object(_.jsxs)(ne,{cellSize:10,gridSize:[20,20],showGrid:!0,gridColor:"#eeeeee",children:[Object(_.jsx)(we,{length:16,angle:"horizontal",color:"black",cellSize:e,x:2}),Object(_.jsx)(we,{length:16,angle:"vertical",color:"black",cellSize:e,y:2}),Object(_.jsx)(we,{length:16,angle:"horizontal",color:"black",cellSize:e,x:2,y:19}),Object(_.jsx)(we,{length:16,angle:"vertical",color:"black",cellSize:e,x:19,y:2}),Object(_.jsx)(we,{length:10,angle:"diagonal-down",color:"black",cellSize:e,x:5,y:5}),Object(_.jsx)(we,{length:10,angle:"diagonal-up",color:"black",cellSize:e,x:5,y:5})]})}function _e(e){var t=e.center,c=e.color,s=e.width,r=e.selected,n=e.setSelected,i=s%2===0?s-1:s,l=i>15?i-Math.floor(i/3.5):i-Math.floor(i/5),a=l%2===0?l-1:l;return Object(_.jsxs)(le,{x:t[0],y:t[1],children:[Object(_.jsx)(we,{length:i,angle:"horizontal",color:c,x:Math.ceil(-i/2),selected:r,setSelected:n}),Object(_.jsx)(we,{length:i,angle:"vertical",color:c,y:Math.ceil(-i/2),selected:r,setSelected:n}),Object(_.jsx)(we,{length:a,angle:"diagonal-down",color:c,x:Math.ceil(-a/2),y:Math.ceil(-a/2),selected:r,setSelected:n}),Object(_.jsx)(we,{length:a,angle:"diagonal-up",color:c,x:Math.ceil(-a/2),y:Math.ceil(-a/2),selected:r,setSelected:n})]})}function et(){var e="rgb(149,57,45)",t="rgb(117,153,88)";return Object(_.jsxs)(ne,{gridSize:[99,99],backgroundColor:"#eee",showGrid:!0,gridColor:"#333",children:[Object(_.jsx)(de,{diameter:99,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:97,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:95,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:93,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:91,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:89,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:87,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:85,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:83,stroke:e,cx:49,cy:49}),Object(_.jsx)(de,{diameter:79,stroke:"#fff",cx:49,cy:49}),Object(_.jsx)(de,{diameter:77,stroke:"#222",fill:"#222",filled:!0,cx:49,cy:49}),Object(_.jsx)(_e,{center:[49,49],color:"rgb(240,158,96)",width:47}),Object(_.jsx)(pe,{width:7,stroke:t,fill:t,x:46,y:46}),Object(_.jsx)(qe,{diameter:3,lineWidth:1,stroke:"white",x:48,y:48})]})}function tt(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1];return Object(_.jsxs)(ne,{gridSize:[37,51],backgroundColor:"#222",showGrid:!0,children:[Object(_.jsx)(_e,{center:[2,5],color:"white",width:1,selected:c,setSelected:r}),Object(_.jsx)(_e,{center:[6,5],color:"white",width:3,selected:l,setSelected:o}),Object(_.jsx)(_e,{center:[12,5],color:"white",width:5}),Object(_.jsx)(_e,{center:[20,5],color:"white",width:7}),Object(_.jsx)(_e,{center:[30,5],color:"white",width:9}),Object(_.jsx)(_e,{center:[7,20],color:"white",width:11}),Object(_.jsx)(_e,{center:[28,20],color:"white",width:13}),Object(_.jsx)(_e,{center:[9,37],color:"white",width:15}),Object(_.jsx)(_e,{center:[27,37],color:"white",width:17})]})}function ct(){return Object(_.jsx)(ne,{showGrid:!0,gridSize:[20,20],gridColor:"black",children:Object(_.jsx)(de,{diameter:11,fill:"red",stroke:"red",cx:10,cy:10})})}var st=c(303);function rt(){var e=50,t=r.a.useState([]),c=Object(a.a)(t,2),s=c[0],n=c[1],i=r.a.useState([]),l=Object(a.a)(i,2),o=l[0],d=l[1];return r.a.useEffect((function(){for(var t=[],c=0;c<e;c++)for(var s=0;s<e;s++)t.push({fill:Object(st.a)(Math.random()),x:c,y:s});n(t);for(var r=[],i=0;i<e;i++)for(var l=0;l<e;l++)r.push({fill:Object(st.a)(Math.round(Math.random())),x:i,y:l});d(r)}),[e]),Object(_.jsxs)(r.a.Fragment,{children:[Object(_.jsx)(ne,{gridSize:[e,e],children:Object(_.jsx)(oe,{stitches:s,x:0,y:0})}),Object(_.jsx)(ne,{gridSize:[e,e],children:Object(_.jsx)(oe,{stitches:o,x:0,y:0})})]})}var nt=Object(se.a)({root:{maxWidth:200,margin:"0 auto"}});function it(){var e=nt();return Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(_.jsx)(xe,{orientation:"north",size:13,fill:"red",x:3,y:6})}),Object(_.jsx)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(_.jsx)(xe,{orientation:"south",size:13,fill:"red",x:3,y:6})}),Object(_.jsx)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(_.jsx)(xe,{orientation:"east",size:13,fill:"red",x:6,y:3})}),Object(_.jsx)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(_.jsx)(xe,{orientation:"west",size:13,fill:"red",x:6,y:3})}),Object(_.jsxs)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:[Object(_.jsx)(xe,{orientation:"north",size:13,fill:"red",x:3,y:6}),Object(_.jsx)(xe,{orientation:"south",size:13,fill:"red",x:3,y:6}),Object(_.jsx)(xe,{orientation:"east",size:13,fill:"red",x:6,y:3}),Object(_.jsx)(xe,{orientation:"west",size:13,fill:"red",x:6,y:3})]}),Object(_.jsxs)(ne,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:[Object(_.jsx)(xe,{orientation:"north",size:13,fill:"red",x:3,y:12}),Object(_.jsx)(xe,{orientation:"south",size:13,fill:"red",x:3,y:0}),Object(_.jsx)(xe,{orientation:"east",size:13,fill:"red",x:0,y:3}),Object(_.jsx)(xe,{orientation:"west",size:13,fill:"red",x:12,y:3})]})]})}function lt(e){var t=e.width,c=e.fill,r=e.x,n=e.y,i=e.selected,l=e.setSelected,o=s.useState([]),d=Object(a.a)(o,2),j=d[0],u=d[1];return s.useEffect((function(){for(var e=[],s=0;s<t;s++)e.push({fill:c,x:s,y:s}),e.push({fill:c,x:t-s-1,y:s});u(e.filter((function(e,t,c){return t==c.findIndex((function(t){return e.x==t.x&&e.y==t.y}))})))}),[t]),Object(_.jsx)(oe,{stitches:j,x:r,y:n,selected:i,setSelected:l})}function at(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],n=s.useState(!1),i=Object(a.a)(n,2),l=i[0],o=i[1],d=s.useState(!1),j=Object(a.a)(d,2),u=j[0],f=j[1],x=s.useState(!1),b=Object(a.a)(x,2),h=b[0],O=b[1],y=s.useState(!1),S=Object(a.a)(y,2),g=S[0],m=S[1],p=s.useState(!1),v=Object(a.a)(p,2),k=v[0],w=v[1];return Object(_.jsxs)(ne,{showGrid:!0,gridSize:[20,20],gridColor:"black",children:[Object(_.jsx)(lt,{width:3,fill:"red",x:0,y:2,selected:c,setSelected:r}),Object(_.jsx)(lt,{width:5,fill:"red",x:5,y:1,selected:l,setSelected:o}),Object(_.jsx)(lt,{width:7,fill:"red",x:12,y:0,selected:u,setSelected:f}),Object(_.jsx)(lt,{width:4,fill:"red",x:0,y:12,selected:h,setSelected:O}),Object(_.jsx)(lt,{width:6,fill:"red",x:5,y:11,selected:g,setSelected:m}),Object(_.jsx)(lt,{width:8,fill:"red",x:12,y:10,selected:k,setSelected:w})]})}var ot=[{url:"/tests/nested-diamonds",title:"Nested Diamonds",component:Object(_.jsx)(Qe,{})},{url:"/tests/nested-plus",title:"Nested Plus",component:Object(_.jsx)(Pe,{})},{url:"/tests/plus-cross",title:"Plus Cross",component:Object(_.jsx)(He,{})},{url:"/tests/plus-star",title:"Plus Star",component:Object(_.jsx)(Ue,{})},{url:"/tests/tone-test",title:"Tone Test",component:Object(_.jsx)(Ye,{})},{url:"/tests/square-test",title:"Square Test",component:Object(_.jsx)(Ze,{})},{url:"/tests/line-test",title:"Line Test",component:Object(_.jsx)($e,{})},{url:"/tests/star-test",title:"Star Test",component:Object(_.jsx)(tt,{})},{url:"/tests/star-diamond",title:"Star Diamond Test",component:Object(_.jsx)(et,{})},{url:"/tests/empty-diamond",title:"Empty Diamond",component:Object(_.jsx)(ct,{})},{url:"/tests/noise-square",title:"Noise Square",component:Object(_.jsx)(rt,{width:20})},{url:"/tests/iso-triangles",title:"Isosceles Triangles",component:Object(_.jsx)(it,{})},{url:"/tests/x-stitch-set",title:"X Stitch Set",component:Object(_.jsx)(at,{})}],dt=Object(se.a)({embroidery:{maxWidth:800,margin:"0 auto"}});function jt(){var e=dt();return Object(_.jsxs)("main",{children:[Object(_.jsxs)(j.a,{path:"/tests",exact:!0,children:[Object(_.jsx)("h1",{children:"Tests"}),Object(_.jsx)("nav",{children:Object(_.jsx)("ul",{children:ot.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:e.url,children:e.title})},e.url)}))})})]}),ot.map((function(t){return Object(_.jsxs)(j.a,{path:t.url,children:[Object(_.jsx)(d.b,{to:"/tests",children:"Back"}),Object(_.jsx)(ce,{}),Object(_.jsx)(Ke,{}),Object(_.jsx)("div",{className:e.embroidery,children:t.component})]},t.url)}))]})}var ut=c(302),ft=c(301),xt=Object(se.a)({controls:{display:"flex",marginBottom:20},form:{marginRight:20}});function bt(){var e=xt(),t=s.useState(20),c=Object(a.a)(t,2),r=c[0],n=c[1],i=s.useState("20"),o=Object(a.a)(i,2),d=o[0],j=o[1],u=s.useState([]),f=Object(a.a)(u,2),x=f[0],b=f[1];return s.useEffect((function(){for(var e=[],t=0;t<r;t++)for(var c=0;c<r;c++)e.push({fill:"transparent",x:t,y:c});b(e)}),[r]),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:e.controls,children:[Object(_.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),n(Number(d))},className:e.form,children:Object(_.jsx)(ut.a,{id:"grid-size",label:"Grid Size",size:"small",variant:"outlined",value:d,onChange:function(e){var t=Number(e.target.value);(""==e.target.value||t>0&&t<51)&&j(e.target.value)},type:"number"})}),Object(_.jsx)(ft.a,{variant:"outlined",color:"secondary",onClick:function(e){b(x.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{fill:"transparent"})})))},children:"Reset"})]}),Object(_.jsx)(ne,{gridSize:[r,r],gridColor:"#eaeaea",showGrid:!0,children:x&&Object(_.jsx)(oe,{stitches:x,x:0,y:0})})]})}var ht=[{url:"/star-diamond",title:"Star Diamond Interface",component:Object(_.jsx)(Ce,{})},{url:"/triangle-in-d",title:"Triangle In D",component:Object(_.jsx)(Re,{})},{url:"/free-draw",title:"Free Draw",component:Object(_.jsx)(bt,{})}],Ot=Object(se.a)({embroidery:{maxWidth:800,margin:"0 auto"},backLink:{display:"inline-block"}});function yt(){var e=Ot();return Object(_.jsxs)("main",{children:[Object(_.jsxs)(j.a,{path:"/",exact:!0,children:[Object(_.jsx)("h1",{children:"Vyshyvanka.js/\u0412\u0438\u0448\u0438\u0432\u0430\u043d\u043a\u0430.js"}),Object(_.jsx)("nav",{children:Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:"/tests",children:"Tests"})}),ht.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:e.url,children:e.title})},e.url)}))]})})]}),Object(_.jsx)(j.a,{path:"/tests",children:Object(_.jsx)(jt,{})}),ht.map((function(t){return Object(_.jsxs)(j.a,{path:t.url,children:[Object(_.jsx)(d.b,{to:"/",className:e.backLink,children:"Back"}),Object(_.jsx)(ce,{}),Object(_.jsx)(Ke,{}),Object(_.jsx)("div",{className:e.embroidery,children:t.component})]},t.url)}))]})}function St(){var e=s.useState(D),t=Object(a.a)(e,2),c=t[0],r=t[1],n=s.useState(!1),i=Object(a.a)(n,2),o=i[0],j=i[1];return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(d.a,{basename:"/vyshyvanka-js",children:Object(_.jsx)(Z.Provider,{value:Object(l.a)(Object(l.a)({},Y),{},{selectFill:c,setSelectFill:r,isAudioStarted:o,setIsAudioStarted:j}),children:Object(_.jsx)(yt,{})})})})}o.n.bpm.value=160,o.n.start();var gt=document.getElementById("root");i.a.render(Object(_.jsx)(s.StrictMode,{children:Object(_.jsx)(St,{})}),gt)}},[[264,1,2]]]);
//# sourceMappingURL=main.9d08a343.chunk.js.map