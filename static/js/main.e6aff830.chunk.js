(this["webpackJsonpvyshyvanka-js"]=this["webpackJsonpvyshyvanka-js"]||[]).push([[0],{148:function(e,t,c){},264:function(e,t,c){"use strict";c.r(t);var s=c(0),r=c.n(s),i=c(16),l=c.n(i),n=c(3),a=c(5),o=c(11),d=(c(148),c(32)),j=c(19),f=c(296),u=c(298),x=c(265),b="#1f1300",O="#2A3338",h="#f2f7f2",y="#7d2d26",S="#CE675E",g="#dc928b",m="#c26100",v="#FF8811",p="#ffa54c",k="#edb214",w="#F4D06F",z="#f8e2a6",C="#1446a0",E="#1b5dd4",D="#6595ec",A="#0A5A3F",F="#108f64",N="#16c489",R={cellSize:24,selectFill:E,setSelectFill:function(){},isAudioStarted:!1,setIsAudioStarted:function(){},pitchShift:new o.j,delay:new o.d({maxDelay:2,feedback:.5,wet:.2}),reverb:new o.f,distortion:new o.b(.8),filter:new o.e(4e3,"lowpass"),volume:new o.n(-12).toDestination()},W=Object(s.createContext)(R),M=c(125),G=c(1),T=Object(x.a)({root:{position:"fixed",bottom:0,right:0,display:"flex",justifyContent:"flex-end",alignItems:"flex-end",padding:5,"& .MuiIconButton-root":{color:"#333"}}}),I=["#000000",b,O,h,"#FFFFFF",y,S,g,m,v,p,k,w,z,A,F,N,C,E,D];function L(){var e=T(),t=s.useContext(W),c=(t.cellSize,t.selectFill),r=t.setSelectFill,i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1];return Object(G.jsxs)("div",{className:e.root,children:[Object(G.jsx)("div",{style:{display:n?"block":"none"},children:Object(G.jsx)(M.a,{color:c,colors:I,onChangeComplete:function(e){r(e.hex),o(!1)}})}),Object(G.jsx)(f.a,{size:"small",fontSize:"large",onClick:function(){return o(!n)},children:Object(G.jsx)(u.a,{})})]})}var B=c(299),K=Object(x.a)({root:{backgroundColor:function(e){return e.backgroundColor}}});function q(e){var t=e.gridSize,c=e.backgroundColor,s=e.showGrid,i=e.gridColor,l=e.children,n=K({backgroundColor:c}),a=r.a.useContext(W).cellSize;return Object(G.jsxs)("svg",{className:n.root,viewBox:"0 0 ".concat(t[0]*a+1," ").concat(t[1]*a+1),children:[Object(G.jsx)("defs",{children:Object(G.jsxs)("pattern",{id:"fabric-grid",x:"0",y:"0",width:a,height:a,patternUnits:"userSpaceOnUse",children:[Object(G.jsx)("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:i||"white",strokeWidth:2}),Object(G.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"100%",stroke:i||"white",strokeWidth:2})]})}),s&&Object(G.jsx)("rect",{width:"100%",height:"100%",fill:"url(#fabric-grid)"}),l]})}var P=c(26);function H(e){var t=e.x,c=e.y,s=e.children,i=Object(P.a)(e,["x","y","children"]),l=r.a.useContext(W).cellSize;return Object(G.jsx)("g",Object(n.a)(Object(n.a)({transform:"translate(".concat(t?t*l:0,", ").concat(c?c*l:0,")")},i),{},{children:s}))}var J=c(13);function U(e){var t=e.fill,c=e.x,r=e.y,i=e.id,l=e.selected,n=e.handleClick,o=s.useState(t),d=Object(a.a)(o,2),j=d[0],f=d[1],u=s.useContext(W),x=u.cellSize,b=u.selectFill;return s.useEffect((function(){f(l?b:t)}),[l]),Object(G.jsx)("rect",{width:x,height:x,fill:j,x:c*x+.5,y:r*x+.5,onClick:n,"data-id":i})}function V(e){var t=e.stitches,c=e.x,r=e.y,i=e.selected,l=e.setSelected,o=s.useState(t.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{selected:!1})}))),d=Object(a.a)(o,2),j=d[0],f=d[1];function u(e){if(e.shiftKey){var t=Object(J.a)(j),c=e.currentTarget.dataset.id;t[c].selected=!t[c].selected,f(t)}}return s.useEffect((function(){f(t.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{selected:!1})})))}),[t]),Object(G.jsx)(H,{x:c,y:r,fillOpacity:i?.5:1,onClick:function(e){!e.shiftKey&&l&&null!=i&&l(!i)},children:j.map((function(e,t){return Object(G.jsx)(U,{fill:e.fill,x:e.x,y:e.y,selected:e.selected,handleClick:u,id:t},"stitch-".concat(t))}))})}function Q(e){var t=e.diameter,c=e.stroke,r=e.fill,i=e.filled,l=e.cx,n=e.cy,o=e.selected,d=e.setSelected,j=s.useState(),f=Object(a.a)(j,2),u=f[0],x=f[1],b=s.useState(t%2===0?t-1:t),O=Object(a.a)(b,2),h=O[0],y=O[1];return s.useEffect((function(){y(t%2===0?t-1:t)}),[t]),s.useEffect((function(){for(var e=(h-1)/2,t=[],s=0;s<h;s++)for(var l=0;l<h;l++)s!==e-l&&s!==e+l&&s!==h-l+e-1&&s!==l+e+1-h||t.push({fill:c,x:s,y:l});if(i)for(var n=0;n<h;n++)for(var a=0;a<h;a++)n>=e-a&&n<=e+a&&n>=a+e+1-h&&n<=h-a+e-1&&t.push({fill:r,x:n,y:a});x(t)}),[t,c,r,i]),Object(G.jsx)(H,{x:l,y:n,children:u&&Object(G.jsx)(V,{stitches:u,x:-(h-1)/2,y:-(h-1)/2,selected:o,setSelected:d})})}function X(e,t,c){var s=[];switch(e){case"NE":for(var r=0;r<t;r++)for(var i=0;i<r+1;i++)s.push({fill:c,x:i,y:r});return s;case"SE":for(var l=0;l<t;l++)for(var n=0;n<t-l;n++)s.push({fill:c,x:n,y:l});return s;case"SW":for(var a=0;a<t;a++)for(var o=a;o<t;o++)s.push({fill:c,x:o,y:a});return s;case"NW":for(var d=0;d<t;d++)for(var j=t-d-1;j<t;j++)s.push({fill:c,x:j,y:d});return s;default:return[]}}function Y(e){var t=e.orientation,c=e.sideLength,s=e.fill,i=e.x,l=e.y,n=e.selected,o=e.setSelected,d=r.a.useState(X(t,c,s)),j=Object(a.a)(d,2),f=j[0],u=j[1];return r.a.useEffect((function(){u(X(t,c,s))}),[t,c,s]),Object(G.jsx)(V,{stitches:f,x:i,y:l,selected:n,setSelected:o})}function Z(e,t,c){var s=Math.ceil(t/2),r=s-1,i=[];switch(e){case"north":for(var l=0,n=1;l<s;l++,n+=2)for(var a=0;a<n;a++)i.push({fill:c,x:r-l+a,y:l});return i;case"south":for(var o=0,d=t;o<s;o++,d-=2)for(var j=0;j<d;j++)i.push({fill:c,x:o+j,y:o});return i;case"east":for(var f=0,u=t;f<s;f++,u-=2)for(var x=0;x<u;x++)i.push({fill:c,x:f,y:f+x});return i;case"west":for(var b=0,O=1;b<s;b++,O+=2)for(var h=0;h<O;h++)i.push({fill:c,x:b,y:r-b+h});return i;default:return[]}}function $(e){var t=e.orientation,c=e.size,s=e.fill,i=e.x,l=e.y,n=e.selected,o=e.setSelected,d=r.a.useState(c%2===0?c-1:c),j=Object(a.a)(d,2),f=j[0],u=j[1],x=r.a.useState(Z(t,f,s)),b=Object(a.a)(x,2),O=b[0],h=b[1];return r.a.useEffect((function(){u(c%2===0?c-1:c)}),[c]),r.a.useEffect((function(){h(Z(t,f,s))}),[t,f,s]),Object(G.jsx)(V,{stitches:O,x:i,y:l,selected:n,setSelected:o})}var _=Object(B.a)({triangle:{opacity:1,"&.clicked":{opacity:.5}}});function ee(){var e=s.useContext(W).volume,t=s.useState(e.volume.value),c=Object(a.a)(t,2),r=c[0],i=c[1],l=_(),n=s.useRef(null),d=s.useRef(null),j=s.useRef(null),f=s.useRef(null);function u(e){e.classList.toggle("clicked"),setTimeout((function(){return e.classList.toggle("clicked")}),50)}return s.useEffect((function(){e.volume.rampTo(r,.5)}),[r]),Object(G.jsxs)("g",{children:[Object(G.jsx)("g",{onClick:function(e){e.shiftKey||u(d.current),o.m.bpm.value=o.m.bpm.value-5},className:l.triangle,ref:d,children:Object(G.jsx)(Y,{orientation:"SE",sideLength:16,fill:O,x:0,y:0})}),Object(G.jsx)("g",{onClick:function(e){e.shiftKey||u(n.current),o.m.bpm.value=o.m.bpm.value+5},className:l.triangle,ref:n,children:Object(G.jsx)(Y,{orientation:"SW",sideLength:16,fill:O,x:21,y:0})}),Object(G.jsx)("g",{onClick:function(e){e.shiftKey||u(j.current),r<-4&&i(r+2)},className:l.triangle,ref:j,children:Object(G.jsx)(Y,{orientation:"NW",sideLength:16,fill:O,x:21,y:21})}),Object(G.jsx)("g",{onClick:function(e){e.shiftKey||u(f.current),i(r-2)},className:l.triangle,ref:f,children:Object(G.jsx)(Y,{orientation:"NE",sideLength:16,fill:O,x:0,y:21})})]})}var te={oscillator:{type:"sine"},modulationIndex:20,modulation:{type:"sawtooth"},envelope:{attack:.01,decay:.2,sustain:.2,release:2,attackCurve:"sine"},volume:-12};function ce(e){var t=e.patternContent,c=e.patternDirection,r=e.triangles,i=s.useContext(W),l=i.pitchShift,n=i.delay,d=i.reverb,j=i.volume,f=s.useState(!1),u=Object(a.a)(f,2),x=u[0],b=u[1],O=s.useRef(new o.c(te).chain(l,n,d,j)),h=s.useRef(new o.i((function(e,t){O.current.triggerAttackRelease(t,"16n",e)}),t,c));return s.useEffect((function(){return x?h.current.start(0):h.current.stop(0),function(){return h.current.stop(0)}}),[x]),r.map((function(e){return Object(G.jsx)($,{orientation:e.orientation,size:e.size,fill:S,x:e.x,y:e.y,selected:x,setSelected:b},"tri-".concat(e.orientation,"-").concat(e.x,"-").concat(e.y))}))}function se(){return Object(G.jsxs)("g",{children:[Object(G.jsx)(ce,{patternContent:["D4","F4","D4"],patternDirection:"up",triangles:[{orientation:"north",size:9,x:8,y:13},{orientation:"west",size:9,x:13,y:8}]}),Object(G.jsx)(ce,{patternContent:["D4","E4","Eb4","E4","D4"],patternDirection:"up",triangles:[{orientation:"east",size:9,x:19,y:8},{orientation:"north",size:9,x:20,y:13}]}),Object(G.jsx)(ce,{patternContent:["D4","Eb4","D4","Eb4","D4","Eb4","D4"],patternDirection:"down",triangles:[{orientation:"south",size:9,x:8,y:19},{orientation:"west",size:9,x:13,y:20}]}),Object(G.jsx)(ce,{patternContent:["D2"],patternDirection:"down",triangles:[{orientation:"east",size:9,x:19,y:20},{orientation:"south",size:9,x:20,y:19}]})]})}function re(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1];return Object(G.jsxs)("g",{children:[Object(G.jsx)(Q,{diameter:37,cx:18,cy:18,stroke:A,selected:c,setSelected:r}),Object(G.jsx)(Q,{diameter:35,cx:18,cy:18,stroke:A,selected:c,setSelected:r}),Object(G.jsx)(Q,{diameter:33,cx:18,cy:18,stroke:A,selected:c,setSelected:r}),Object(G.jsx)(Q,{diameter:31,cx:18,cy:18,stroke:A,selected:c,setSelected:r}),Object(G.jsx)(Q,{diameter:27,cx:18,cy:18,stroke:b,selected:n,setSelected:o})]})}function ie(e){var t=e.fill,c=e.x,s=e.y,r=e.selected,i=e.setSelected;return Object(G.jsx)(H,{fillOpacity:r?.5:1,onClick:function(e){e.shiftKey&&i&&null!=r&&i(!r)},children:Object(G.jsx)(U,{fill:t,x:c,y:s})})}function le(e){var t=e.cx,c=e.cy,s=e.selected,r=e.setSelected,i=e.clickHandler;return Object(G.jsxs)("g",{onClick:i,children:[Object(G.jsx)(Q,{diameter:5,cx:t,cy:c,stroke:O,fill:O,filled:!0,selected:s,setSelected:r}),Object(G.jsx)(ie,{x:t,y:c,fill:w,selected:s,setSelected:r})]})}function ne(){var e=s.useContext(W),t=e.pitchShift,c=e.delay,r=e.reverb,i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1],d=s.useState(!1),j=Object(a.a)(d,2),f=j[0],u=j[1],x=s.useState(!1),b=Object(a.a)(x,2),O=b[0],h=b[1],y=s.useState(!1),S=Object(a.a)(y,2),g=S[0],m=S[1],v=s.useState(0),p=Object(a.a)(v,2),k=p[0],w=p[1];return s.useEffect((function(){c.wet.value=n?.2:0}),[n]),s.useEffect((function(){r.wet.value=f?1:0}),[f]),s.useEffect((function(){t.pitch=k,k>0?(h(!0),m(!1)):k<0?(h(!1),m(!0)):(h(!1),m(!1))}),[k]),Object(G.jsxs)("g",{children:[Object(G.jsx)(le,{cx:7,cy:18,selected:n,setSelected:o}),Object(G.jsx)(le,{cx:29,cy:18,selected:f,setSelected:u}),Object(G.jsx)(le,{cx:18,cy:7,selected:O,setSelected:h,clickHandler:function(e){w(k+1)}}),Object(G.jsx)(le,{cx:18,cy:29,selected:g,setSelected:m,clickHandler:function(e){w(k-1)}})]})}function ae(e){var t=e.length,c=e.angle,s=e.color,i=e.x,l=e.y,n=e.selected,o=e.setSelected,d=r.a.useState(),j=Object(a.a)(d,2),f=j[0],u=j[1];return r.a.useEffect((function(){var e=[];if("vertical"===c)for(var r=0;r<t;r++)e.push({fill:s,x:0,y:r});else if("horizontal"===c)for(var i=0;i<t;i++)e.push({fill:s,x:i,y:0});else if("diagonal-down"===c)for(var l=0;l<t;l++)e.push({fill:s,x:l,y:l});else if("diagonal-up"===c)for(var n=0;n<t;n++)e.push({fill:s,x:n,y:t-n-1});u(e)}),[t,c,s]),f?Object(G.jsx)(V,{stitches:f,x:i,y:l,selected:n,setSelected:o}):Object(G.jsx)("g",{})}var oe={oscillator:{type:"sawtooth"},envelope:{attack:.001,decay:.1,release:.5,sustain:.5},filter:{Q:1,rolloff:-12,type:"lowpass"},filterEnvelope:{attack:.4,baseFrequency:150,decay:.2,exponent:2,octaves:3,release:2,sustain:.5},volume:-12},de=new o.h(oe),je=new o.h(oe);function fe(){var e=r.a.useContext(W),t=e.pitchShift,c=e.delay,s=e.reverb,i=e.distortion,l=e.volume,n=new o.i((function(e,t){de.triggerAttackRelease(t,.1,e)}),["D4","F4","G4","A4","458","C4"],"up"),d=new o.i((function(e,t){je.triggerAttackRelease(t,.1,e)}),["C4","D4","E4","G4","A4","458"],"down"),j=r.a.useState(!1),f=Object(a.a)(j,2),u=f[0],x=f[1],b=r.a.useState(!1),O=Object(a.a)(b,2),h=O[0],y=O[1],S=r.a.useState(!1),g=Object(a.a)(S,2),m=g[0],p=g[1];return r.a.useEffect((function(){de.chain(t,c,s,l),je.chain(t,c,s,l)}),[]),r.a.useEffect((function(){return h?d.start(0):d.stop(0),function(){return d.stop(0)}}),[h]),r.a.useEffect((function(){return m?n.start(0):n.stop(0),function(){return n.stop(0)}}),[m]),r.a.useEffect((function(){u?(i.distortion=.8,l.volume.rampTo(-20,.1,0)):(i.distortion=0,l.volume.rampTo(-12,.1,.5))}),[u]),Object(G.jsxs)("g",{children:[Object(G.jsx)(ae,{length:17,angle:"horizontal",color:v,x:10,y:18,selected:u,setSelected:x}),Object(G.jsx)(ae,{length:17,angle:"vertical",color:v,x:18,y:10,selected:u,setSelected:x}),Object(G.jsx)(ae,{length:11,angle:"diagonal-down",color:v,x:13,y:13,selected:h,setSelected:y}),Object(G.jsx)(ae,{length:11,angle:"diagonal-up",color:v,x:13,y:13,selected:m,setSelected:p})]})}function ue(e){var t=e.width,c=e.x,s=e.y,i=e.stroke,l=e.fill,n=e.selected,o=e.setSelected,d=r.a.useState([]),j=Object(a.a)(d,2),f=j[0],u=j[1];return r.a.useEffect((function(){for(var e=[],c=0;c<t;c++)for(var s=0;s<t;s++)0==c||c==t-1||0==s||s==t-1?e.push({fill:i,x:c,y:s}):l&&e.push({fill:l,x:c,y:s});u(e)}),[t,i,l]),Object(G.jsx)(V,{stitches:f,x:c,y:s,selected:n,setSelected:o})}var xe=new o.c({portamento:.05,volume:-16}),be=new o.a({portamento:.05,volume:-12}),Oe=new o.l({portamento:.05,volume:-16});function he(){var e=r.a.useContext(W),t=e.pitchShift,c=e.delay,s=e.reverb,i=e.distortion,l=e.volume,n=r.a.useState(!1),d=Object(a.a)(n,2),j=d[0],f=d[1],u=0;r.a.useEffect((function(){xe.chain(t,i,c,s,l),be.chain(t,i,c,s,l),Oe.chain(t,i,c,s,l)}),[]);var x=r.a.useRef(new o.g({callback:function(e){u%2==0&&(xe.triggerAttackRelease("C#4","8n",e),Oe.triggerAttackRelease("F#4","8n",e)),u%2==1&&be.triggerAttackRelease("G#4","8n",e),u++},interval:"8n",playbackRate:.75}));return r.a.useEffect((function(){return j?x.current.start(0):x.current.stop(0),function(){return x.current.stop(0)}}),[j]),Object(G.jsxs)("g",{children:[Object(G.jsx)(ue,{width:3,x:17,y:17,stroke:w,selected:j,setSelected:f}),Object(G.jsx)(ie,{x:18,y:18,stroke:O,selected:j,setSelected:f})]})}function ye(){return Object(G.jsxs)(q,{gridSize:[37,37],children:[Object(G.jsx)(ee,{}),Object(G.jsx)(re,{}),Object(G.jsx)(se,{}),Object(G.jsx)(fe,{}),Object(G.jsx)(Q,{diameter:25,cx:18,cy:18,stroke:v}),Object(G.jsx)(he,{}),Object(G.jsx)(ne,{})]})}new o.j(5).toDestination();var Se=new o.d({maxDelay:2,feedback:.8}).toDestination(),ge=new o.c({oscillator:{type:"sawtooth"},modulationIndex:11,modulation:{type:"square"},envelope:{attack:.01,decay:.2,sustain:.2,release:2,attackCurve:"sine"}}).connect(Se),me=(new o.a({portamento:.05}).connect(Se),new o.l({portamento:.05}).connect(Se),new o.i((function(e,t){ge.triggerAttackRelease(t,.1)}),["D4","F4","D4"],"up")),ve=new o.i((function(e,t){ge.triggerAttackRelease(t,.1)}),["D4","E4","Eb4","E4","D4"],"up"),pe=new o.i((function(e,t){ge.triggerAttackRelease(t,.1)}),["D4","Eb4","D4","Eb4","D4","Eb4","D4"],"down");function ke(){return r.a.useEffect((function(){return me.start(0).stop(3),ve.start(3).stop(10),pe.start(10).stop(15),o.m.start(1),o.m.stop(3),o.m.start(3),o.m.stop(10),o.m.start(10),o.m.start(15),o.m.bpm.value=160,function(){return o.m.stop(0)}}),[]),Object(G.jsx)(r.a.Fragment,{children:Object(G.jsx)(q,{gridSize:[21,21],showGrid:!0,children:Object(G.jsx)(Y,{orientation:"NW",fill:"red",sideLength:21})})})}var we,ze,Ce=c(2),Ee=c.n(Ce),De=c(9),Ae=c(300),Fe=Object(B.a)({root:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3,display:function(e){return e.isAudioStarted?"none":"flex"},justifyContent:"center",alignItems:"center"},startButton:{color:"rgba(255,255,255,1)","&:hover":{color:"rgba(255,255,255,0.9)"},"& .MuiSvgIcon-root":{fontSize:"6em"}}});function Ne(){var e=r.a.useContext(W),t=e.isAudioStarted,c=e.setIsAudioStarted,s=Fe({isAudioStarted:t});function i(){return(i=Object(De.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,o.o();case 3:c(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsx)("div",{className:s.root,children:Object(G.jsx)(f.a,{onClick:function(){return i.apply(this,arguments)},className:s.startButton,children:Object(G.jsx)(Ae.a,{})})})}function Re(){var e=r.a.useState(!1),t=Object(a.a)(e,2),c=t[0],s=t[1],i=r.a.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1];return Object(G.jsxs)(r.a.Fragment,{children:[Object(G.jsxs)(q,{gridSize:[41,41],backgroundColor:"#fff",children:[Object(G.jsx)(Q,{diameter:41,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s}),Object(G.jsx)(Q,{diameter:31,filled:!0,fill:"#ffffff",stroke:"#ffffff",cx:20,cy:20,selected:c,setSelected:s}),Object(G.jsx)(Q,{diameter:21,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s}),Object(G.jsx)(Q,{diameter:11,filled:!0,fill:"#ffffff",stroke:"#ffffff",cx:20,cy:20,selected:c,setSelected:s}),Object(G.jsx)(Q,{diameter:3,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:c,setSelected:s})]}),Object(G.jsxs)(q,{gridSize:[41,41],backgroundColor:"#fff",children:[Object(G.jsx)(Q,{diameter:41,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:39,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:37,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:33,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:25,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:21,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:17,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:7,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o}),Object(G.jsx)(Q,{diameter:3,filled:!0,fill:"#ff0000",stroke:"#ff0000",cx:20,cy:20,selected:n,setSelected:o})]})]})}function We(e){var t=e.diameter,c=e.lineWidth,s=e.stroke,i=e.x,l=e.y,n=e.selected,o=e.setSelected,d=r.a.useState([]),j=Object(a.a)(d,2),f=j[0],u=j[1];return r.a.useEffect((function(){for(var e=[],r=0;r<t;r++)for(var i=0;i<t;i++)(r>=Math.floor((t-c)/2)&&r<Math.floor(t-(t-c)/2)||i>=Math.floor((t-c)/2)&&i<Math.floor(t-(t-c)/2))&&e.push({fill:s,x:r,y:i});u(e)}),[t,c]),Object(G.jsx)(V,{stitches:f,x:i,y:l,selected:n,setSelected:o})}function Me(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1];return Object(G.jsx)(q,{cellSize:10,gridSize:[21,21],children:Object(G.jsxs)("g",{children:[Object(G.jsx)(We,{cellSize:10,diameter:21,lineWidth:9,stroke:"#ff0000",selected:c,setSelected:r}),Object(G.jsx)(We,{cellSize:10,diameter:21,lineWidth:5,stroke:"#ffffff",selected:c,setSelected:r}),Object(G.jsx)(We,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:9,selected:c,setSelected:r})]})})}function Ge(){return Object(G.jsx)(q,{cellSize:10,gridSize:[21,21],children:Object(G.jsxs)("g",{children:[Object(G.jsx)(We,{cellSize:10,diameter:21,lineWidth:1,stroke:"#ff0000"}),Object(G.jsx)(We,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:1}),Object(G.jsx)(We,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:9,y:17}),Object(G.jsx)(We,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:1,y:9}),Object(G.jsx)(We,{cellSize:10,diameter:3,lineWidth:1,stroke:"#ff0000",x:17,y:9})]})})}function Te(e){var t=e.colors,c=e.x,r=e.y,i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1];return Object(G.jsxs)(H,{x:c,y:r,children:[Object(G.jsx)(We,{diameter:3,lineWidth:1,stroke:t[0],x:1,y:3,selected:n,setSelected:o}),Object(G.jsx)(We,{diameter:3,lineWidth:1,stroke:t[1],x:3,y:1,selected:n,setSelected:o}),Object(G.jsx)(We,{diameter:3,lineWidth:1,stroke:t[2],x:5,y:3,selected:n,setSelected:o}),Object(G.jsx)(We,{diameter:3,lineWidth:1,stroke:t[3],x:3,y:5,selected:n,setSelected:o})]})}function Ie(){var e=r.a.useContext(W).cellSize;return Object(G.jsxs)(q,{cellSize:e,gridSize:[21,21],backgroundColor:"white",children:[Object(G.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(0*e,")"),children:[Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:3}),Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:9})]}),Object(G.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(5*e,")"),children:[Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:0}),Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:6}),Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:12})]}),Object(G.jsxs)("g",{transform:"translate(".concat(0*e,", ").concat(10*e,")"),children:[Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:3}),Object(G.jsx)(Te,{colors:["gold","#a91b0d","gold","#a91b0d"],cellSize:10,x:9})]})]})}function Le(e){we%7===0&&ze.triggerAttackRelease(["256"],"16n",e,.2),4===we&&ze.triggerAttackRelease(["128"],"16n",e,.5),8===we&&ze.triggerAttackRelease(["384"],"16n",e,.4),9===we&&ze.triggerAttackRelease(["512"],"16n",e,.3),3===we&&ze.triggerAttackRelease(["640"],"16n",e,.3),2===we&&ze.triggerAttackRelease(["768"],"16n",e,.3),we=(we+1)%21}we=0,(ze=new o.k({maxPolyphony:32,envelope:{attack:.001,sustain:.2,decay:.2,release:.4},volume:10}).toMaster()).set({detune:-1200});var Be=Object(B.a)({root:{"& button":{display:"block"}}});function Ke(){var e=Be(),t=r.a.useRef(new o.g(Le,"16n")),c=r.a.useState(!1),s=Object(a.a)(c,2),i=s[0],l=s[1];return r.a.useEffect((function(){return i?t.current.start(0):t.current.stop(0),function(){return t.current.stop(0)}}),[i]),Object(G.jsx)("div",{className:e.root,children:Object(G.jsx)("button",{onClick:function(){l(!i)},children:"Toggle Beat"})})}function qe(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1],d=s.useState(!1),j=Object(a.a)(d,2),f=j[0],u=j[1],x=s.useState(!1),b=Object(a.a)(x,2),O=b[0],h=b[1];return Object(G.jsxs)(q,{cellSize:10,gridSize:[20,20],children:[Object(G.jsx)(ue,{width:5,stroke:"black",selected:c,setSelected:r}),Object(G.jsx)(ue,{width:5,stroke:"black",fill:"black",x:6,selected:n,setSelected:o}),Object(G.jsx)(ue,{width:5,stroke:"black",fill:"red",x:12,selected:f,setSelected:u}),Object(G.jsxs)(H,{x:0,y:6,children:[Object(G.jsx)(ue,{width:12,stroke:"black",selected:O,setSelected:h}),Object(G.jsx)(ue,{width:9,stroke:"black",x:8,y:5,selected:O,setSelected:h})]})]})}function Pe(){var e=10;return Object(G.jsxs)(q,{cellSize:10,gridSize:[20,20],showGrid:!0,gridColor:"#eeeeee",children:[Object(G.jsx)(ae,{length:16,angle:"horizontal",color:"black",cellSize:e,x:2}),Object(G.jsx)(ae,{length:16,angle:"vertical",color:"black",cellSize:e,y:2}),Object(G.jsx)(ae,{length:16,angle:"horizontal",color:"black",cellSize:e,x:2,y:19}),Object(G.jsx)(ae,{length:16,angle:"vertical",color:"black",cellSize:e,x:19,y:2}),Object(G.jsx)(ae,{length:10,angle:"diagonal-down",color:"black",cellSize:e,x:5,y:5}),Object(G.jsx)(ae,{length:10,angle:"diagonal-up",color:"black",cellSize:e,x:5,y:5})]})}function He(e){var t=e.center,c=e.color,s=e.width,r=e.selected,i=e.setSelected,l=s%2===0?s-1:s,n=l>15?l-Math.floor(l/3.5):l-Math.floor(l/5),a=n%2===0?n-1:n;return Object(G.jsxs)(H,{x:t[0],y:t[1],children:[Object(G.jsx)(ae,{length:l,angle:"horizontal",color:c,x:Math.ceil(-l/2),selected:r,setSelected:i}),Object(G.jsx)(ae,{length:l,angle:"vertical",color:c,y:Math.ceil(-l/2),selected:r,setSelected:i}),Object(G.jsx)(ae,{length:a,angle:"diagonal-down",color:c,x:Math.ceil(-a/2),y:Math.ceil(-a/2),selected:r,setSelected:i}),Object(G.jsx)(ae,{length:a,angle:"diagonal-up",color:c,x:Math.ceil(-a/2),y:Math.ceil(-a/2),selected:r,setSelected:i})]})}function Je(){var e="rgb(149,57,45)",t="rgb(117,153,88)";return Object(G.jsxs)(q,{gridSize:[99,99],backgroundColor:"#eee",showGrid:!0,gridColor:"#333",children:[Object(G.jsx)(Q,{diameter:99,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:97,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:95,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:93,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:91,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:89,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:87,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:85,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:83,stroke:e,cx:49,cy:49}),Object(G.jsx)(Q,{diameter:79,stroke:"#fff",cx:49,cy:49}),Object(G.jsx)(Q,{diameter:77,stroke:"#222",fill:"#222",filled:!0,cx:49,cy:49}),Object(G.jsx)(He,{center:[49,49],color:"rgb(240,158,96)",width:47}),Object(G.jsx)(ue,{width:7,stroke:t,fill:t,x:46,y:46}),Object(G.jsx)(We,{diameter:3,lineWidth:1,stroke:"white",x:48,y:48})]})}function Ue(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1];return Object(G.jsxs)(q,{gridSize:[37,51],backgroundColor:"#222",showGrid:!0,children:[Object(G.jsx)(He,{center:[2,5],color:"white",width:1,selected:c,setSelected:r}),Object(G.jsx)(He,{center:[6,5],color:"white",width:3,selected:n,setSelected:o}),Object(G.jsx)(He,{center:[12,5],color:"white",width:5}),Object(G.jsx)(He,{center:[20,5],color:"white",width:7}),Object(G.jsx)(He,{center:[30,5],color:"white",width:9}),Object(G.jsx)(He,{center:[7,20],color:"white",width:11}),Object(G.jsx)(He,{center:[28,20],color:"white",width:13}),Object(G.jsx)(He,{center:[9,37],color:"white",width:15}),Object(G.jsx)(He,{center:[27,37],color:"white",width:17})]})}function Ve(){return Object(G.jsx)(q,{showGrid:!0,gridSize:[20,20],gridColor:"black",children:Object(G.jsx)(Q,{diameter:11,fill:"red",stroke:"red",cx:10,cy:10})})}var Qe=c(303);function Xe(){var e=50,t=r.a.useState([]),c=Object(a.a)(t,2),s=c[0],i=c[1],l=r.a.useState([]),n=Object(a.a)(l,2),o=n[0],d=n[1];return r.a.useEffect((function(){for(var t=[],c=0;c<e;c++)for(var s=0;s<e;s++)t.push({fill:Object(Qe.a)(Math.random()),x:c,y:s});i(t);for(var r=[],l=0;l<e;l++)for(var n=0;n<e;n++)r.push({fill:Object(Qe.a)(Math.round(Math.random())),x:l,y:n});d(r)}),[e]),Object(G.jsxs)(r.a.Fragment,{children:[Object(G.jsx)(q,{gridSize:[e,e],children:Object(G.jsx)(V,{stitches:s,x:0,y:0})}),Object(G.jsx)(q,{gridSize:[e,e],children:Object(G.jsx)(V,{stitches:o,x:0,y:0})})]})}var Ye=Object(B.a)({root:{maxWidth:200,margin:"0 auto"}});function Ze(){var e=Ye();return Object(G.jsxs)("div",{className:e.root,children:[Object(G.jsx)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(G.jsx)($,{orientation:"north",size:13,fill:"red",x:3,y:6})}),Object(G.jsx)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(G.jsx)($,{orientation:"south",size:13,fill:"red",x:3,y:6})}),Object(G.jsx)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(G.jsx)($,{orientation:"east",size:13,fill:"red",x:6,y:3})}),Object(G.jsx)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:Object(G.jsx)($,{orientation:"west",size:13,fill:"red",x:6,y:3})}),Object(G.jsxs)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:[Object(G.jsx)($,{orientation:"north",size:13,fill:"red",x:3,y:6}),Object(G.jsx)($,{orientation:"south",size:13,fill:"red",x:3,y:6}),Object(G.jsx)($,{orientation:"east",size:13,fill:"red",x:6,y:3}),Object(G.jsx)($,{orientation:"west",size:13,fill:"red",x:6,y:3})]}),Object(G.jsxs)(q,{showGrid:!0,gridSize:[19,19],gridColor:"black",children:[Object(G.jsx)($,{orientation:"north",size:13,fill:"red",x:3,y:12}),Object(G.jsx)($,{orientation:"south",size:13,fill:"red",x:3,y:0}),Object(G.jsx)($,{orientation:"east",size:13,fill:"red",x:0,y:3}),Object(G.jsx)($,{orientation:"west",size:13,fill:"red",x:12,y:3})]})]})}function $e(e){var t=e.width,c=e.fill,r=e.x,i=e.y,l=e.selected,n=e.setSelected,o=s.useState([]),d=Object(a.a)(o,2),j=d[0],f=d[1];return s.useEffect((function(){for(var e=[],s=0;s<t;s++)e.push({fill:c,x:s,y:s}),e.push({fill:c,x:t-s-1,y:s});f(e.filter((function(e,t,c){return t==c.findIndex((function(t){return e.x==t.x&&e.y==t.y}))})))}),[t]),Object(G.jsx)(V,{stitches:j,x:r,y:i,selected:l,setSelected:n})}function _e(){var e=s.useState(!1),t=Object(a.a)(e,2),c=t[0],r=t[1],i=s.useState(!1),l=Object(a.a)(i,2),n=l[0],o=l[1],d=s.useState(!1),j=Object(a.a)(d,2),f=j[0],u=j[1],x=s.useState(!1),b=Object(a.a)(x,2),O=b[0],h=b[1],y=s.useState(!1),S=Object(a.a)(y,2),g=S[0],m=S[1],v=s.useState(!1),p=Object(a.a)(v,2),k=p[0],w=p[1];return Object(G.jsxs)(q,{showGrid:!0,gridSize:[20,20],gridColor:"black",children:[Object(G.jsx)($e,{width:3,fill:"red",x:0,y:2,selected:c,setSelected:r}),Object(G.jsx)($e,{width:5,fill:"red",x:5,y:1,selected:n,setSelected:o}),Object(G.jsx)($e,{width:7,fill:"red",x:12,y:0,selected:f,setSelected:u}),Object(G.jsx)($e,{width:4,fill:"red",x:0,y:12,selected:O,setSelected:h}),Object(G.jsx)($e,{width:6,fill:"red",x:5,y:11,selected:g,setSelected:m}),Object(G.jsx)($e,{width:8,fill:"red",x:12,y:10,selected:k,setSelected:w})]})}var et=[{url:"/tests/nested-diamonds",title:"Nested Diamonds",component:Object(G.jsx)(Re,{})},{url:"/tests/nested-plus",title:"Nested Plus",component:Object(G.jsx)(Me,{})},{url:"/tests/plus-cross",title:"Plus Cross",component:Object(G.jsx)(Ge,{})},{url:"/tests/plus-star",title:"Plus Star",component:Object(G.jsx)(Ie,{})},{url:"/tests/tone-test",title:"Tone Test",component:Object(G.jsx)(Ke,{})},{url:"/tests/square-test",title:"Square Test",component:Object(G.jsx)(qe,{})},{url:"/tests/line-test",title:"Line Test",component:Object(G.jsx)(Pe,{})},{url:"/tests/star-test",title:"Star Test",component:Object(G.jsx)(Ue,{})},{url:"/tests/star-diamond",title:"Star Diamond Test",component:Object(G.jsx)(Je,{})},{url:"/tests/empty-diamond",title:"Empty Diamond",component:Object(G.jsx)(Ve,{})},{url:"/tests/noise-square",title:"Noise Square",component:Object(G.jsx)(Xe,{width:20})},{url:"/tests/iso-triangles",title:"Isosceles Triangles",component:Object(G.jsx)(Ze,{})},{url:"/tests/x-stitch-set",title:"X Stitch Set",component:Object(G.jsx)(_e,{})}],tt=Object(B.a)({embroidery:{maxWidth:800,margin:"0 auto"}});function ct(){var e=tt();return Object(G.jsxs)("main",{children:[Object(G.jsxs)(j.a,{path:"/tests",exact:!0,children:[Object(G.jsx)("h1",{children:"Tests"}),Object(G.jsx)("nav",{children:Object(G.jsx)("ul",{children:et.map((function(e){return Object(G.jsx)("li",{children:Object(G.jsx)(d.b,{to:e.url,children:e.title})},e.url)}))})})]}),et.map((function(t){return Object(G.jsxs)(j.a,{path:t.url,children:[Object(G.jsx)(d.b,{to:"/tests",children:"Back"}),Object(G.jsx)(L,{}),Object(G.jsx)(Ne,{}),Object(G.jsx)("div",{className:e.embroidery,children:t.component})]},t.url)}))]})}var st=c(302),rt=c(301),it=Object(B.a)({controls:{display:"flex",marginBottom:20},form:{marginRight:20}});function lt(){var e=it(),t=s.useState(20),c=Object(a.a)(t,2),r=c[0],i=c[1],l=s.useState("20"),o=Object(a.a)(l,2),d=o[0],j=o[1],f=s.useState([]),u=Object(a.a)(f,2),x=u[0],b=u[1];return s.useEffect((function(){for(var e=[],t=0;t<r;t++)for(var c=0;c<r;c++)e.push({fill:"transparent",x:t,y:c});b(e)}),[r]),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:e.controls,children:[Object(G.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),i(Number(d))},className:e.form,children:Object(G.jsx)(st.a,{id:"grid-size",label:"Grid Size",size:"small",variant:"outlined",value:d,onChange:function(e){var t=Number(e.target.value);(""==e.target.value||t>0&&t<51)&&j(e.target.value)},type:"number"})}),Object(G.jsx)(rt.a,{variant:"outlined",color:"secondary",onClick:function(e){b(x.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{fill:"transparent"})})))},children:"Reset"})]}),Object(G.jsx)(q,{gridSize:[r,r],gridColor:"#eaeaea",showGrid:!0,children:x&&Object(G.jsx)(V,{stitches:x,x:0,y:0})})]})}var nt=[{url:"/star-diamond",title:"Star Diamond Interface",component:Object(G.jsx)(ye,{})},{url:"/triangle-in-d",title:"Triangle In D",component:Object(G.jsx)(ke,{})},{url:"/free-draw",title:"Free Draw",component:Object(G.jsx)(lt,{})}],at=Object(B.a)({embroidery:{maxWidth:800,margin:"0 auto"},backLink:{display:"inline-block"}});function ot(){var e=at();return Object(G.jsxs)("main",{children:[Object(G.jsxs)(j.a,{path:"/",exact:!0,children:[Object(G.jsx)("h1",{children:"Vyshyvanka.js/\u0412\u0438\u0448\u0438\u0432\u0430\u043d\u043a\u0430.js"}),Object(G.jsx)("nav",{children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:Object(G.jsx)(d.b,{to:"/tests",children:"Tests"})}),nt.map((function(e){return Object(G.jsx)("li",{children:Object(G.jsx)(d.b,{to:e.url,children:e.title})},e.url)}))]})})]}),Object(G.jsx)(j.a,{path:"/tests",children:Object(G.jsx)(ct,{})}),nt.map((function(t){return Object(G.jsxs)(j.a,{path:t.url,children:[Object(G.jsx)(d.b,{to:"/",className:e.backLink,children:"Back"}),Object(G.jsx)(L,{}),Object(G.jsx)(Ne,{}),Object(G.jsx)("div",{className:e.embroidery,children:t.component})]},t.url)}))]})}function dt(){var e=s.useState(E),t=Object(a.a)(e,2),c=t[0],r=t[1],i=s.useState(!1),l=Object(a.a)(i,2),o=l[0],j=l[1];return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(d.a,{children:Object(G.jsx)(W.Provider,{value:Object(n.a)(Object(n.a)({},R),{},{selectFill:c,setSelectFill:r,isAudioStarted:o,setIsAudioStarted:j}),children:Object(G.jsx)(ot,{})})})})}o.m.bpm.value=160,o.m.start();var jt=document.getElementById("root");l.a.render(Object(G.jsx)(s.StrictMode,{children:Object(G.jsx)(dt,{})}),jt)}},[[264,1,2]]]);
//# sourceMappingURL=main.e6aff830.chunk.js.map